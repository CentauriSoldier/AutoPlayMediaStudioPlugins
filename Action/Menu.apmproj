<!-- Warning : Do not edit this document manually -->
<?xml version="1.0" encoding="ISO-8859-1" ?>
<Project>
    <ProjectInfo>
        <Type>0</Type>
        <ID>{ca98e816-403b-4d25-8be8-0fcbbe72e004}</ID>
        <Environment>1</Environment>
    </ProjectInfo>
    <ProductInfo>
        <Created>
            <Name>AmsPluginMaker 1.1</Name>
            <Version>1.1.0.0</Version>
            <Date>1/11/2020 5:02:36 PM</Date>
            <Type>Commercial Version</Type>
            <ID>{7a2e86e3-5079-44d5-8208-2aa1334ccc56}</ID>
            <MajorVersion>1</MajorVersion>
            <MinorVersion>1</MinorVersion>
        </Created>
        <Modified>
            <Name>AmsPluginMaker 1.1</Name>
            <Version>1.1.0.0</Version>
            <Date>1/11/2020 5:02:39 PM</Date>
            <Type>Commercial Version</Type>
            <ID>{7a2e86e3-5079-44d5-8208-2aa1334ccc56}</ID>
            <MajorVersion>1</MajorVersion>
            <MinorVersion>1</MinorVersion>
        </Modified>
    </ProductInfo>
    <Scripts>
        <Script Name="Lua" ScrollPosition="0" CursorPosition="34797">
            <Source>LS1bW0Rlc2NyaXB0aW9uDQo8cD5UaGUgTWVudSBBY3Rpb24gUGx1Z2luIG1ha2VzIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgbWVudXMgYSBjaW5jaC48L3A+DQo8cD5Gb3JnZXQgdGhvc2UgZXhoYXVzdGl2ZSB0YWJsZXMgb2YgcHJvcGVydGllcyBhbmQgc3VidGFibGVzLjwvcD4NCjxwPldpdGggdGhlIE1lbnUgcGx1Z2luIHlvdSdsbCBiZSBvbiB5b3VyIHdheSB0byBzaW1wbGUgbWVudXMgaW4gbm8gdGltZSBhdCBhbGwuPC9wPg0KPHA+Tm8gbW9yZSByZWZlcmVuY2luZyBtZW51IGl0ZW1zIGJ5IG51bWJlci48L3A+DQo8cD5ObyBtb3JlIG1pbGVzIG9mIGNvZGUgaW4geW91ciBPbk1lbnUgZXZlbnRzLjwvcD4NCjxwPlRoaXMgcGx1Z2luIGFsbG93cyB5b3UgdG8gcmVmZXJlbmNlIHlvdXIgbWVudSBpdGVtcyBieSBuYW1lIGFuZCB0byBzcGVjaWZ5IGNvZGUgYmFzZWQgb24gdGhvc2UgbmFtZSBzbyB5b3UgbmV2ZXIgbmVlZCB0byByZW1lbWJlciBhIG1lbnUgaWQgYTwvcD4NCl1dDQotLVtbRmVhdHVyZXMNCjx1bCBjbGFzcz0iY29tbWVudHNfbGlzdF9mZWF0dXJlcyI+DQoJPGxpPkNhbiBoYXZlIG11bHRpcGxlIG1lbnUgbGF5b3V0cyBsb2FkZWQgc2ltdWx0YW5lb3VzbHk8L2xpPg0KCTxsaT5TYXZlIGFuZCBsb2FkIG1lbnVzIHRvL2Zyb20gZmlsZTwvbGk+DQoJPGxpPkNoYW5nZSBtZW51IGl0ZW1zIGR5bmFtaWNhbGx5PC9saT4NCgk8bGk+VmVyeSBlYXN5IHRvIHVzZSAoYXMgb3Bwb3NlZCB0byBoYW5kLWNvZGluZyB0aGUgbWVudSk8L2xpPg0KPC91bD4NCl1dDQotLVtbVmVyc2lvbiBIaXN0b3J5DQo8cD48Yj5WZXJzaW9uIDMuMy4wLjA8L2I+PC9wPg0KPHA+Rml4ZWQgYSB0eXBvIGluIE1lbnUuRW5hYmxlKCkgdGhhdCBkaXNhbGxvd2VkIGl0cyBleGVjdXRpb24uPC9wPg0KPHA+Rml4ZWQgYSBidWcgaW4gTWVudS5TZXRJdGVtKCkgdGhhdCBlbmFibGVkL2Rpc2FibGVkIGFuIGVudGlyZSBtZW51IHdoZW4gb25seSBvbmUgaXRlbSB3YXMgdGFyZ2V0ZWQuPC9wPg0KPHA+Rml4ZWQgYSBidWcgaW4gTWVudS5TYXZlVG9GaWxlKCkgdGhhdCBjYXVzZWQgdGhlIHNhdmVkIG1lbnUgdGFibGUgdG8gYmUgZGVsZXRlZCBmcm9tIG1lbW9yeS48L3A+DQo8cD5Mb2NhbGl6ZWQgdGhlIGNvbW1vbiBtZW51IHZhcmlhYmxlcywgaW5jcmVhc2luZyBwbHVnaW4gcGVyZm9ybWFuY2UuPC9wPg0KPGJyLz4NCjxwPjxiPlZlcnNpb24gMy4yLjAuMDwvYj48L3A+DQo8cD5GaXhlZCBhIGJ1ZyB0aGF0IGNhdXNlZCBtZW51IHNhdmluZyBhbmQgbG9hZGluZyB0byBmYWlsLjwvcD4NCjxwPkZpeGVkIGEgYnVnIGluIHRoZSBNZW51LlNldERlbG1pdGVyKCkgZnVuY3Rpb24uPC9wPg0KPHA+Rml4ZWQgYSBidWcgdGhhdCBkaXNhbGxvd2VkIHNwYWNlcyBpbiBtZW51IG5hbWVzLjwvcD4NCjxici8+DQo8cD48Yj5WZXJzaW9uIDMuMS4wLjI8L2I+PC9wPg0KPHA+Rml4ZWQgYSBidWcgdGhhdCBkaXNhbGxvd2VkIHRoZSBjcmVhdGlvbiBvZiBtb3JlIHRoYW4gb25lIHNlcGFyYXRvciBwZXIgbWFpbiBtZW51IGl0ZW0uPC9wPg0KPGJyLz4NCjxwPjxiPlZlcnNpb24gMy4xLjAuMTwvYj48L3A+DQo8cD5GaXhlZCB0aGUgTWVudS5Pbk1lbnUoKSBlYXN5IGFjdGlvbiBhcmd1bWVudC48L3A+DQo8cD5BZGRlZCB0aGUgTWVudS5FbmFibGUoKSBmdW5jdGlvbi48L3A+DQo8YnIvPg0KPHA+PGI+VmVyc2lvbiAzLjEuMC4wPC9iPjwvcD4NCjxwPjxpPkFkZGVkIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zOjwvaT48L3A+DQo8dWwgY2xhc3M9ImNvbW1lbnRzX2xpc3QiPg0KCTxsaT5NZW51LkxvYWRGcm9tRmlsZSgpPC9saT4NCgk8bGk+TWVudS5TYXZlVG9GaWxlKCk8L2xpPg0KCTxsaT5NZW51LlNldFhNTCgpPC9saT4NCjwvdWw+DQo8YnIvPg0KPHA+PGI+VmVyc2lvbiAzLjAuMC4wPC9iPjwvcD4NCjxwPlJld3JvdGUgdGhlIHBsdWdpbiBhbmQgZnJhbWV3b3JrIGZyb20gc2NyYXRjaChhZ2FpbikuPC9wPg0KPHA+PGk+TGlzdCBvZiBhbGwgY3VycmVudGx5IGV4aXN0aW5nIGZ1bmN0aW9uczo8L2k+PC9wPg0KPHVsIGNsYXNzPSJjb21tZW50c19saXN0Ij4NCgk8bGk+TWVudS5DcmVhdGUoKTwvbGk+DQoJPGxpPk1lbnUuRG9lc0V4aXN0KCk8L2xpPg0KCTxsaT5NZW51LkdldEFjdGl2ZSgpPC9saT4NCgk8bGk+TWVudS5HZXRDaGVja2VkKCk8L2xpPg0KCTxsaT5NZW51LkdldEVuYWJsZWQoKTwvbGk+DQoJPGxpPk1lbnUuR2V0TmFtZXMoKTwvbGk+DQoJPGxpPk1lbnUuR2V0SXRlbVByb3BlcnRpZXMoKTwvbGk+DQoJPGxpPk1lbnUuR2V0VGFibGUoKTwvbGk+DQoJPGxpPk1lbnUuR2V0WE1MKCk8L2xpPg0KCTxsaT5NZW51Lk9uTWVudSgpPC9saT4NCgk8bGk+TWVudS5SZW1vdmVJdGVtKCk8L2xpPg0KCTxsaT5NZW51LlJlbmFtZSgpPC9saT4NCgk8bGk+TWVudS5SZW5hbWVJdGVtKCk8L2xpPg0KCTxsaT5NZW51LlNldEFjdGl2ZSgpPC9saT4NCgk8bGk+TWVudS5TZXRDaGVja2VkKCk8L2xpPg0KCTxsaT5NZW51LlNldEVuYWJsZWQoKTwvbGk+DQoJPGxpPk1lbnUuU2V0RGVsbWl0ZXIoKTwvbGk+DQoJPGxpPk1lbnUuU2V0SXRlbSgpPC9saT4NCgk8bGk+TWVudS5Ub2dnbGVDaGVja2VkKCk8L2xpPg0KCTxsaT5NZW51LlRvZ2dsZUVuYWJsZWQoKTwvbGk+DQoJPGxpPk1lbnUuVXBkYXRlKCk8L2xpPg0KPC91bD4NCl1dDQotLVtbUGxhbm5lZCBGZWF0dXJlcw0KPHA+PGI+RnVuY3Rpb25zPC9iPjwvcD4NCjx1bCBjbGFzcz0iY29tbWVudHNfbGlzdF9wbGFubmVkIj4NCgk8bGk+TWVudS5Nb3ZlSXRlbSgpPC9saT4JDQo8L3VsPg0KXV0NCi0tIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQotLSBJUkxVQSBQTFVHSU4gSEVMUEVSIEZVTkNUSU9OUyBCeSBNaWNyb0J5dGUgKFJldmlzZWQgYnkgQ2VudGF1cmkgU29sZGllcikgfHxAIyR8fCBWRVJTSU9OIDIuOCB8fCQjQHx8IA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCl9TaG93RXJyb3JFdmVudENvbnRleHQ9dHJ1ZS0tIHNldCB0aGlzIHRvIGZhbHNlIHRvIGRpc2FibGUgJ0V2ZW50Q29udGV4dCcgZGlzcGxheQ0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCmxvY2FsIElSTFVBX1BMVUdJTl9FUlJPUiA9IGVycm9yOw0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tIFNldHMgYSBHbG9iYWwgZXJyb3IgbWVzc2FnZSBpbiB0aGUgcnVudGltZSBlbmdpbmUuDQpJUkxVQV9QTFVHSU5fU2V0R2xvYmFsRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24obkNvZGUsIHNNZXNzYWdlKQ0KCWlmIF90YmxFcnJvck1lc3NhZ2VzW25Db2RlXSB0aGVuDQoJCWlmIF9TaG93RXJyb3JFdmVudENvbnRleHQgdGhlbg0KCQkJbG9jYWwgc0V2ZW50Q29udGV4dD1EZWJ1Zy5HZXRFdmVudENvbnRleHQoKQ0KCQkJSVJMVUFfUExVR0lOX0VSUk9SKCJFcnJvciBjb2RlICIuLm5Db2RlLi4iIGFscmVhZHkgaW4gdXNlLCBwbGVhc2UgdXNlIGFub3RoZXIuXHJcblxyXG5FdmVudENvbnRleHQ6ICIuLnNFdmVudENvbnRleHQsMikNCgkJZWxzZQ0KCQkJSVJMVUFfUExVR0lOX0VSUk9SKCJFcnJvciBjb2RlICIuLm5Db2RlLi4iIGFscmVhZHkgaW4gdXNlLCBwbGVhc2UgdXNlIGFub3RoZXIuIiwyKQ0KCQllbmQNCgllbHNlDQoJCV90YmxFcnJvck1lc3NhZ2VzW25Db2RlXT1zTWVzc2FnZQ0KCWVuZA0KZW5kDQotLSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KLS0gQ2hlY2tzIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIGluIHRoZSB0YWJsZSBhbmQgdGhyb3dzIGEgc3ludGF4IGVycm9yIElmIHRoZXJlIGFyZSBOb3QgZW5vdWdoLiANCi0tIFRoaXMgaXMgdXNlZnVsIEZvciBjaGVja2luZyB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhdmFpbGFibGUgVG8geW91ciBhY2l0b24uDQpsb2NhbCBJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzID0gZnVuY3Rpb24odGJBcmdzLG5BcmdzKQ0KCWxvY2FsIG5Db3VudD10YWJsZS5nZXRuKHRiQXJncykNCglpZiBuQ291bnQgPCBuQXJncyB0aGVuDQoJCWlmIF9TaG93RXJyb3JFdmVudENvbnRleHQgdGhlbg0KCQkJbG9jYWwgc0V2ZW50Q29udGV4dD1EZWJ1Zy5HZXRFdmVudENvbnRleHQoKQ0KCQkJSVJMVUFfUExVR0lOX0VSUk9SKG5BcmdzLi4iIEFyZ3VtZW50cyBleHBlY3RlZCwgIi4ubkNvdW50Li4iIEFyZ3VtZW50cyBwYXNzZWQuXHJcblxyXG5FdmVudENvbnRleHQ6ICIuLnNFdmVudENvbnRleHQsMykNCgkJZWxzZQ0KCQkJSVJMVUFfUExVR0lOX0VSUk9SKG5BcmdzLi4iIEFyZ3VtZW50cyBleHBlY3RlZCwgIi4ubkNvdW50Li4iIEFyZ3VtZW50cyBwYXNzZWQuIiwzKQ0KCQllbmQNCgllbmQNCmVuZA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tIENoZWNrcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBhcmd1bWVudCB0YWJsZSBwb3NpdGlvbiBUbyBzZWUgaWYgaXQgaXMgYW55IG9mIHRoZSBzcGVjaWZpZWQgdHlwZXMuDQotLSBJZiBOb3QgaXQgdGhyb3dzIGEgc3ludGF4IGVycm9yLg0KLS1Qb3NzaWJsZSB2YXJpYWJsZSB0eXBlc1sgYm9vbGVhbiwgZnVuY3Rpb24sIG5pbCwgbnVtYmVyLCBzdHJpbmcsIHRhYmxlLCB0aHJlYWQsIHVzZXJkYXRhXQ0KbG9jYWwgSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMgPSBmdW5jdGlvbih0YkFyZ3MsbkFyZyx0VHlwZXMpDQpsb2NhbCBzVHlwZSA9IHR5cGUodGJBcmdzW25BcmddKTsNCmxvY2FsIG5Ub3RhbFR5cGVzID0gVGFibGUuQ291bnQodFR5cGVzKTsNCmxvY2FsIG5TdHJpa2VzID0gMDsNCmxvY2FsIHNBbGxvd2VkVHlwZXMgPSAiIjsNCg0KZm9yIG5JbmRleCwgc0FsbG93ZWRUeXBlIGluIHBhaXJzKHRUeXBlcykgZG8NCgkNCglpZiBuSW5kZXggPCAoblRvdGFsVHlwZXMgLSAxKSB0aGVuDQoJc0FsbG93ZWRUeXBlcyA9IHNBbGxvd2VkVHlwZXMuLiIgIi4uc0FsbG93ZWRUeXBlLi4iLCI7DQoJZWxzZWlmIG5JbmRleCA9PSBuVG90YWxUeXBlcyAtIDEgdGhlbg0KCXNBbGxvd2VkVHlwZXMgPSBzQWxsb3dlZFR5cGVzLi4iICIuLnNBbGxvd2VkVHlwZTsNCgllbHNlaWYgbkluZGV4ID09IG5Ub3RhbFR5cGVzIHRoZW4NCgkJaWYgblRvdGFsVHlwZXMgPT0gMSB0aGVuDQoJCXNBbGxvd2VkVHlwZXMgPSAiICIuLnNBbGxvd2VkVHlwZTsNCgkJZWxzZQ0KCQlzQWxsb3dlZFR5cGVzID0gc0FsbG93ZWRUeXBlcy4uIiBvciAiLi5zQWxsb3dlZFR5cGU7DQoJCWVuZA0KCWVuZA0KCQ0KCWlmIHNUeXBlIH49IFN0cmluZy5Mb3dlcihzQWxsb3dlZFR5cGUpIHRoZW4NCgluU3RyaWtlcyA9IG5TdHJpa2VzICsgMTsNCgllbmQNCmVuZA0KDQppZiBuU3RyaWtlcyA9PSBuVG90YWxUeXBlcyB0aGVuDQoJaWYgX1Nob3dFcnJvckV2ZW50Q29udGV4dCB0aGVuDQoJbG9jYWwgc0V2ZW50Q29udGV4dD1EZWJ1Zy5HZXRFdmVudENvbnRleHQoKQ0KCUlSTFVBX1BMVUdJTl9FUlJPUigiYmFkIGFyZ3VtZW50ICMiIC4uIG5BcmcgLi4gIiwgbXVzdCBiZSBhICIuLnNBbGxvd2VkVHlwZXMuLiIsIHlvdSBwYXNzZWQgYSAiLi5zVHlwZS4uIi5cclxuXHJcbkV2ZW50Q29udGV4dDogIi4uc0V2ZW50Q29udGV4dCwzKQ0KCWVsc2UNCglJUkxVQV9QTFVHSU5fRVJST1IoImJhZCBhcmd1bWVudCAjIiAuLiBuQXJnIC4uICIsIG11c3QgYmUgYSAiLi5zQWxsb3dlZFR5cGVzLi4iLCB5b3UgcGFzc2VkIGEgIi4uc1R5cGUuLiIuIiwzKQ0KCWVuZA0KZWxzZQ0KcmV0dXJuIHRiQXJnc1tuQXJnXQ0KZW5kDQplbmQNCi0tIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQotLSBFbnN1cmVzIHRoYXQgeW91ciB0YWJsZSBjb250YWlucyBkYXRhIG9mIG9ubHkgdGhlIHNwZWNpZmllZCB0eXBlLiBJZiBpdCBkb2VzIG5vdCB0aGVuIGZhbHNlIGlzIHJldHVybmVkLg0KLS0gVGhpcyB3aWxsIHNlZSBuaWwgdmFsdWVzIGFzIHN1YnRhYmxlIGRlY2xhcmF0aW9ucyBhbmQgd2lsbCwgdGhlcmVmb3JlLCBpZ25vcmUgdGhlbS4NCmxvY2FsIElSTFVBX1BMVUdJTl9DaGVja1RhYmxlVmFycyA9IGZ1bmN0aW9uKHRUYWJsZSx0VmFyVHlwZXMpDQpsb2NhbCBiUmV0ID0gdHJ1ZTsNCmxvY2FsIG5UeXBlcyA9IFRhYmxlLkNvdW50KHRWYXJUeXBlcyk7DQpsb2NhbCBuU3RyaWtlcyA9IDA7DQoNCmZvciBuSW5kZXgsIHNJdGVtIGluIHBhaXJzKHRUYWJsZSkgZG8NCm5TdHJpa2VzID0gMDsNCg0KCWZvciBuVHlwZSwgc1R5cGUgaW4gcGFpcnModFZhclR5cGVzKSBkbw0KDQoJCWlmIHR5cGUoc0l0ZW0pIH49IHNUeXBlIHRoZW4NCgkJblN0cmlrZXMgPSBuU3RyaWtlcyArIDE7DQoJCWVuZA0KCQkJDQoJZW5kDQoJDQoJaWYgblN0cmlrZXMgPj0gblR5cGVzIHRoZW4NCgliUmV0ID0gZmFsc2U7DQoJYnJlYWs7DQoJZW5kDQoNCmVuZA0KcmV0dXJuIGJSZXQNCmVuZA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tIENvbnZlcnRzIGNlcnRhaW4gZGF0YXR5cGVzIGludG8gb3RoZXIgZGF0YXR5cGVzIHx8fCBTdXBwb3J0ZWQgVHlwZXMgfHx8DQotLSBbU3RyaW5nIDwtPiBCb29sZWFuXSBbTnVtYmVyIDwtPiBCb29sZWFuXSBbU3RyaW5nIDwtPiBOdW1iZXJdDQotLSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KbG9jYWwgQ09OVkVSVCA9IGZ1bmN0aW9uICh2SW5wdXQsIHNOZXdUeXBlKQ0KbG9jYWwgc09sZFR5cGUgPSB0eXBlKHZJbnB1dCk7DQoNCmlmIHNOZXdUeXBlID09ICJib29sZWFuIiB0aGVuDQoNCglpZiBzT2xkVHlwZSA9PSAic3RyaW5nIiB0aGVuDQoNCgkJaWYgU3RyaW5nLkxvd2VyKHZJbnB1dCkgPT0gInRydWUiIHRoZW4NCgkJcmV0dXJuIHRydWUNCgkJZWxzZWlmIFN0cmluZy5Mb3dlcih2SW5wdXQpID09ICJmYWxzZSIgdGhlbg0KCQlyZXR1cm4gZmFsc2UNCgkJZW5kDQoJCQ0KCWVsc2VpZiBzT2xkVHlwZSA9PSAibnVtYmVyIiB0aGVuDQoJCQ0KCQlpZiB2SW5wdXQgPT0gMCB0aGVuDQoJCXJldHVybiBmYWxzZQ0KCQllbHNlaWYgdklucHV0ID09IDEgdGhlbg0KCQlyZXR1cm4gdHJ1ZQ0KCQllbmQNCgkNCgllbmQNCg0KZWxzZWlmIHNOZXdUeXBlID09ICJzdHJpbmciCXRoZW4NCgkNCglpZiBzT2xkVHlwZSA9PSAiYm9vbGVhbiIgdGhlbg0KCQ0KCQlpZiB2SW5wdXQgPT0gdHJ1ZSB0aGVuDQoJCXJldHVybiAidHJ1ZSINCgkJZWxzZWlmIHZJbnB1dCA9PSBmYWxzZSB0aGVuDQoJCXJldHVybiAiZmFsc2UiDQoJCWVuZA0KCQ0KCWVsc2VpZiBzT2xkVHlwZSA9PSAibnVtYmVyIiB0aGVuDQoJcmV0dXJuICIiLi52SW5wdXQuLiIiCQ0KCWVuZA0KDQplbHNlaWYgc05ld1R5cGUgPT0gIm51bWJlciIgdGhlbg0KCQ0KCWlmIHNPbGRUeXBlID09ICJib29sZWFuIiB0aGVuDQoJDQoJCWlmIHZJbnB1dCA9PSB0cnVlIHRoZW4NCgkJcmV0dXJuIDENCgkJZWxzZWlmIHZJbnB1dCA9PSBmYWxzZSB0aGVuDQoJCXJldHVybiAwDQoJCWVuZA0KCQ0KCWVsc2VpZiBzT2xkVHlwZSA9PSAic3RyaW5nIiB0aGVuDQoJDQoJcmV0dXJuIHRvbnVtYmVyKHZJbnB1dCk7CQkJCQ0KCQkJCQ0KCWVuZA0KDQplbmQNCmVuZA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tRVJST1IgUExVR0lOIERFVEFJTFMNCmxvY2FsIEVSUk9SX1BMVUdJTl9OQU1FID0gIk1lbnUiOw0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tRGlzcGxheXMgYSBjdXN0b20gZXJyb3IgbWVzc2FnZSB1c2luZyB0aGUgcGx1Z2luIGFuZCBmdW5jdGlvbiBuYW1lIGFuZCBsaXN0cyB0aGUgZXZlbnQgY29udGV4dCBhcyB3ZWxsLg0KbG9jYWwgRVJST1IgPSBmdW5jdGlvbihzRnVuY3Rpb25OYW1lLHNNZXNzYWdlLG5FbWJlZExldmVsKQ0KDQppZiBub3QgbkVtYmVkTGV2ZWwgdGhlbg0KbkVtYmVkTGV2ZWwgPSAwOw0KZWxzZWlmIHR5cGUobkVtYmVkTGV2ZWwpIH49ICJudW1iZXIiIHRoZW4NCm5FbWJlZExldmVsID0gMDsNCmVuZA0KDQppZiB0eXBlKHNGdW5jdGlvbk5hbWUpIH49ICJzdHJpbmciIHRoZW4NCnNGdW5jdGlvbk5hbWUgPSAiIjsNCmVuZAkNCg0KbG9jYWwgc0Z1bmN0aW9uTmFtZUNvZGUgPSAiIjsNCmlmIFN0cmluZy5SZXBsYWNlKHNGdW5jdGlvbk5hbWUsICIgIiwgIiIsIGZhbHNlKSB+PSAiIiB0aGVuDQpzRnVuY3Rpb25OYW1lQ29kZSA9ICIsIGZ1bmN0aW9uIFwiIi4uc0Z1bmN0aW9uTmFtZS4uIigpXCIiOw0KZW5kDQoNCklSTFVBX1BMVUdJTl9FUlJPUigiXHJcbkVycm9yIGluIFwiIi4uRVJST1JfUExVR0lOX05BTUUuLiJcIiBwbHVnaW4iLi5zRnVuY3Rpb25OYW1lQ29kZS4uIlxyXG5cclxuIi4uc01lc3NhZ2UuLiJcclxuXHJcbkV2ZW50Q29udGV4dDogIi4uRGVidWcuR2V0RXZlbnRDb250ZXh0KCksMyArIG5FbWJlZExldmVsKTsNCmVuZA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tVGhyb3dzIGFuZCBlcnJvciBpZiB0aGUgcmVxdWlyZWQgcGx1Z2luIGlzIG5vdCBsb2FkZWQuIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBhdCB0aGUgY2FsbGVkIGF0IHRoZQ0KLS1iZWdpbm5pbmcgb2YgZWFjaCBmdW5jdGlvbiwgb25jZSBmb3IgZWFjaCByZXF1aXJlZCBwbHVnaW4uDQotLU5PVEU6IFRoaXMgbWF5IGJlIGNhbGxlZCBhdCBvbmNlIG9ubHkgYXQgdGhlIHN0YXJ0IG9mIHlvdXIgcGx1Z2luIHNjcmlwdCBpZiB0aGUgcmVxdWlyZWQgcGx1Z2luIGlzIGFmdGVyIHlvdXIgcGx1Z2luIGFscGhhYmV0aWNhbGx5DQpsb2NhbCBSRVFVSVJFID0gZnVuY3Rpb24odFBsdWdpbixzUGx1Z2luTmFtZSkNCmlmIG5vdCB0UGx1Z2luIHRoZW4NCklSTFVBX1BMVUdJTl9FUlJPUigiXHJcbkVycm9yIGxvYWRpbmcgdGhlIFwiIi4uRVJST1JfUExVR0lOX05BTUUuLiJcIiBwbHVnaW4uXHJcblRoaXMgcGx1Z2luIHJlcXVpcmVzIHRoZSBcIiIuLnNQbHVnaW5OYW1lLi4iXCIgcGx1Z2luLiIpOw0KZW5kDQplbmQNCi0tIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQotLSBFTkQgSVJMVUEgUExVR0lOIEhFTFBFUiBGVU5DVElPTlMNCi0tIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpNZW51ID0ge307DQpsb2NhbCBNRU5VX0FDVElWRSA9ICIiOw0KbG9jYWwgTUVOVV9NRU5VUyA9IHt9Ow0KbG9jYWwgTUVOVV9ERUxJTUlURVIgPSAifCI7DQpsb2NhbCBNRU5VX1VTRVJfWE1MX0JBTksgPSAiIjsNCmxvY2FsIE1FTlVfQ09OVFJPTF9DSEFSID0gIrUiOw0KbG9jYWwgTUVOVV9DT0RFID0ge307DQoNCg0KLS1bWw0KQ29tbW9uIFJldHVybiBWYWx1ZXM6DQotNCB8IEZpbGUgRXJyb3INCi0zIHwgTm8gQWN0aXZlIE1lbnUNCi0yIHwgaW52YWxpZCBtZW51IGNvbnN0cnVjdGlvbg0KLTEgfCB0aGUgbWVudSBkb2VzIG5vdCBleGlzdA0KIDAgfCBhY3Rpb24gc3VjY2VlZGVkDQogMSB8IG1lbnUgYWxyZWFkeSBleGlzdHMNCiAyIHwgDQogMyB8IA0KXV0NCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0+Pj4+Pj4+Pj4+Pj4NCi0tIEJFR0lOIHwgSElEREVOIEZVTkNUSU9OUw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIFN0cmluZ1RvWE1MQXR0DQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KbG9jYWwgZnVuY3Rpb24gU3RyaW5nVG9YTUxBdHQoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzSW5wdXQgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgdENoYXJzID0geyJcbiIsIlxyIiwiXHJcbiIsIlx0IiwiXCIiLCI8IiwiPiIsIj0ifTsNCmxvY2FsIHNSZXQgPSBzSW5wdXQ7DQoNCmZvciBuSW5kZXgsIHNDaGFyIGluIHBhaXJzKHRDaGFycykgZG8NCnNSZXQgPSBTdHJpbmcuUmVwbGFjZShzUmV0LCB0Q2hhcnNbbkluZGV4XSwgIqwiLi5uSW5kZXguLiIiLCBmYWxzZSk7DQplbmQNCg0KcmV0dXJuIHNSZXQNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIFhNTEF0dFRvU3RyaW5nDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KbG9jYWwgZnVuY3Rpb24gWE1MQXR0VG9TdHJpbmcoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzSW5wdXQgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgdENoYXJzID0geyJcbiIsIlxyIiwiXHJcbiIsIlx0IiwiXCIiLCI8IiwiPiIsIj0ifTsNCmxvY2FsIHNSZXQgPSBzSW5wdXQ7DQoNCmZvciBuSW5kZXgsIHNDaGFyIGluIHBhaXJzKHRDaGFycykgZG8NCnNSZXQgPSBTdHJpbmcuUmVwbGFjZShzUmV0LCAirCIuLm5JbmRleC4uIiIsIHRDaGFyc1tuSW5kZXhdLCBmYWxzZSk7DQplbmQNCg0KcmV0dXJuIHNSZXQNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIERTVFQNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpsb2NhbCBmdW5jdGlvbiBEU1RUKERlbGltaXRlZFN0cmluZywgRGVsaW1pdGVyKQ0KCXRiUmV0dXJuID0ge307DQoJbG9jYWwgc3RyV29ya2luZzsNCglsb2NhbCBuUG9zID0gbmlsOw0KCWxvY2FsIHN0ckRhdGE7DQoJbG9jYWwgblRhYmxlSW5kZXggPSAxOw0KCWxvY2FsIG5EZWxpbWl0ZXJMZW5ndGggPSBTdHJpbmcuTGVuZ3RoKERlbGltaXRlcik7DQoJDQoJaWYobkRlbGltaXRlckxlbmd0aCA8IDEpdGhlbg0KCQl0YlJldHVybltuVGFibGVJbmRleF0gPSBEZWxpbWl0ZWRTdHJpbmc7DQoJCXJldHVybiB0YlJldHVybjsNCgllbmQNCgkNCglzdHJXb3JraW5nID0gRGVsaW1pdGVkU3RyaW5nOw0KCW5Qb3MgPSBTdHJpbmcuRmluZChzdHJXb3JraW5nLERlbGltaXRlcik7DQoJd2hpbGUoblBvcyB+PSAtMSlkbw0KCQlzdHJEYXRhID0gU3RyaW5nLkxlZnQoc3RyV29ya2luZyxuUG9zLTEpOw0KCQl0YlJldHVybltuVGFibGVJbmRleF0gPSBzdHJEYXRhOw0KCQluVGFibGVJbmRleCA9IG5UYWJsZUluZGV4ICsgMTsNCgkJbG9jYWwgbkxlbmd0aCA9IFN0cmluZy5MZW5ndGgoc3RyV29ya2luZyk7DQoJCXN0cldvcmtpbmcgPSBTdHJpbmcuUmlnaHQoc3RyV29ya2luZyxuTGVuZ3RoIC0gKG5Qb3MgKyAobkRlbGltaXRlckxlbmd0aC0xKSkpOw0KCQluUG9zID0gU3RyaW5nLkZpbmQoc3RyV29ya2luZyxEZWxpbWl0ZXIpOw0KCWVuZA0KCWlmKHN0cldvcmtpbmcgfj0gIiIpdGhlbg0KCQl0YlJldHVybltuVGFibGVJbmRleF0gPSBzdHJXb3JraW5nOw0KCWVuZA0KCQ0KCXJldHVybiB0YlJldHVybjsNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIEdldEZvcmFtdHRlZFBhdGgNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpsb2NhbCB0Q29udHJvbENoYXJzID0gew0KeyJcIiIsInF1b3QifSwNCnsiJyIsImFwb3MifSwNCnsiJiIsImFtcCJ9LA0KeyI8IiwibHQifSwNCnsiPiIsImd0In0sDQp7IiAiLCItIn0sDQp9Ow0KDQpmdW5jdGlvbiBHZXRGb3JtYXR0ZWRQYXRoKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc1BhdGggPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KZm9yIG5DSUQsIHRDQyBpbiBwYWlycyh0Q29udHJvbENoYXJzKSBkbw0Kc1BhdGggPSBTdHJpbmcuUmVwbGFjZShzUGF0aCwgdENDWzFdLCB0Q0NbMl0sIGZhbHNlKTsNCmVuZA0KDQpyZXR1cm4gc1BhdGgNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnVTdHJpbmdUb1hNTFBhdGgNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpsb2NhbCBmdW5jdGlvbiBNZW51U3RyaW5nVG9YTUxQYXRoKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc01lbnVTdHJpbmcgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCnNNZW51U3RyaW5nID0gR2V0Rm9ybWF0dGVkUGF0aChzTWVudVN0cmluZyk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHNJdGVtUGF0aCA9IFN0cmluZy5SZXBsYWNlKHNNZW51U3RyaW5nLCAifCIsICIvIiwgZmFsc2UpOw0Kc0l0ZW1QYXRoID0gU3RyaW5nLlJlcGxhY2Uoc0l0ZW1QYXRoLCAiLS0tIiwgIlNFUEFSQVRPUiIsIGZhbHNlKTsNCnJldHVybiAibWVudS8iLi5zSXRlbVBhdGgNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIFJlc3RvcmVYTUwNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpsb2NhbCBmdW5jdGlvbiBSZXN0b3JlWE1MKCkNCmlmIE1FTlVfVVNFUl9YTUxfQkFOSyB+PSAiIiB0aGVuDQpYTUwuU2V0WE1MKE1FTlVfVVNFUl9YTUxfQkFOSyk7DQplbmQNCg0KTUVOVV9VU0VSX1hNTF9CQU5LID0gIiI7DQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBTdG9yZVhNTA0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmxvY2FsIGZ1bmN0aW9uIFN0b3JlWE1MKHNNZW51KQ0KbG9jYWwgc1hNTCA9IFhNTC5HZXRYTUwoKTsNCg0KaWYgc1hNTCB+PSAiIiB0aGVuDQpNRU5VX1VTRVJfWE1MX0JBTksgPSBzWE1MOw0KZW5kDQoNClhNTC5TZXRYTUwoTUVOVV9NRU5VU1tzTWVudV0pOw0KZW5kDQoNCg0KDQpsb2NhbCBmdW5jdGlvbiBQYXJzZVhNTFRvTWVudSguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywxKTsNCmxvY2FsIHNNZW51ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmlmIE1lbnUuRG9lc0V4aXN0KHNNZW51KSB0aGVuDQpsb2NhbCB0TWVudSA9IHt9Ow0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT08PDw8PDw8DQpsb2NhbCBmdW5jdGlvbiBHZXRBdHRzKHNYTUxQYXRoKQ0KbG9jYWwgdFJldCA9IHsNClsxXSA9IHtJRD10b251bWJlcihYTUwuR2V0QXR0cmlidXRlKHNYTUxQYXRoLCAiaWQiKSksVGV4dD1YTUwuR2V0QXR0cmlidXRlKHNYTUxQYXRoLCAidGV4dCIpLEljb25JRD10b251bWJlcihYTUwuR2V0QXR0cmlidXRlKHNYTUxQYXRoLCAiaWNvbmlkIikpLEVuYWJsZWQ9Q09OVkVSVChYTUwuR2V0QXR0cmlidXRlKHNYTUxQYXRoLCAiZW5hYmxlZCIpLCJib29sZWFuIiksQ2hlY2tlZD1DT05WRVJUKFhNTC5HZXRBdHRyaWJ1dGUoc1hNTFBhdGgsICJjaGVja2VkIiksImJvb2xlYW4iKSxTdWJNZW51PXt9fTsNClsyXSA9IFhNTEF0dFRvU3RyaW5nKFhNTC5HZXRBdHRyaWJ1dGUoc1hNTFBhdGgsICJjb2RlIikpOw0KfTsNCnJldHVybiB0UmV0DQplbmQNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Pj4+Pj4+Pg0KDQoJZm9yIGEgPSAxLCBYTUwuQ291bnQoIm1lbnUiLCAiKiIpIGRvDQoJbG9jYWwgdEF0dHMgPSBHZXRBdHRzKCJtZW51Lyo6Ii4uYSk7DQoJdE1lbnVbYV0gPSB0QXR0c1sxXTsNCglNRU5VX0NPREVbdEF0dHNbMV0uSURdID0gdEF0dHNbMl07DQoJCQkNCgkJZm9yIGIgPSAxLCBYTUwuQ291bnQoIm1lbnUvOiIuLmEsICIqIikgZG8NCgkJbG9jYWwgdEF0dHMgPSBHZXRBdHRzKCJtZW51Lyo6Ii4uYS4uIi86Ii4uYik7DQoJCXRNZW51W2FdLlN1Yk1lbnVbYl0gPSB0QXR0c1sxXTsNCgkJTUVOVV9DT0RFW3RBdHRzWzFdLklEXSA9IHRBdHRzWzJdOw0KCQkJCQ0KCQkJZm9yIGMgPSAxLCBYTUwuQ291bnQoIm1lbnUvOiIuLmEuLiIvOiIuLmIsICIqIikgZG8NCgkJCWxvY2FsIHRBdHRzID0gR2V0QXR0cygibWVudS8qOiIuLmEuLiIvOiIuLmIuLiIvOiIuLmMpOw0KCQkJdE1lbnVbYV0uU3ViTWVudVtiXS5TdWJNZW51W2NdID0gdEF0dHNbMV07ICANCgkJCU1FTlVfQ09ERVt0QXR0c1sxXS5JRF0gPSB0QXR0c1syXTsNCgkJCQkJCQ0KCQkJCWZvciBkID0gMSwgWE1MLkNvdW50KCJtZW51LzoiLi5hLi4iLzoiLi5iLi4iLzoiLi5jLCAiKiIpIGRvDQoJCQkJbG9jYWwgdEF0dHMgPSBHZXRBdHRzKCJtZW51Lyo6Ii4uYS4uIi86Ii4uYi4uIi86Ii4uYy4uIi86Ii4uZCk7DQoJCQkJdE1lbnVbYV0uU3ViTWVudVtiXS5TdWJNZW51W2NdLlN1Yk1lbnVbZF0gPXRBdHRzWzFdOw0KCQkJCU1FTlVfQ09ERVt0QXR0c1sxXS5JRF0gPSB0QXR0c1syXTsNCgkJCQkJDQoJCQkJCWZvciBlID0gMSwgWE1MLkNvdW50KCJtZW51LzoiLi5hLi4iLzoiLi5iLi4iLzoiLi5jLi4iLzoiLi5kLCAiKiIpIGRvDQoJCQkJCWxvY2FsIHRBdHRzID0gR2V0QXR0cygibWVudS8qOiIuLmEuLiIvOiIuLmIuLiIvOiIuLmMuLiIvOiIuLmQuLiIvOiIuLmUpOw0KCQkJCQl0TWVudVthXS5TdWJNZW51W2JdLlN1Yk1lbnVbY10uU3ViTWVudVtkXS5TdWJNZW51W2VdID0gdEF0dHNbMV07DQoJCQkJCU1FTlVfQ09ERVt0QXR0c1sxXS5JRF0gPSB0QXR0c1syXTsNCgkJCQkJDQoJCQkJCQlmb3IgZiA9IDEsIFhNTC5Db3VudCgibWVudS86Ii4uYS4uIi86Ii4uYi4uIi86Ii4uYy4uIi86Ii4uZC4uIi86Ii4uZSwgIioiKSBkbw0KCQkJCQkJbG9jYWwgdEF0dHMgPSBHZXRBdHRzKCJtZW51Lyo6Ii4uYS4uIi86Ii4uYi4uIi86Ii4uYy4uIi86Ii4uZC4uIi86Ii4uZS4uIi86Ii4uZik7DQoJCQkJCQl0TWVudVthXS5TdWJNZW51W2JdLlN1Yk1lbnVbY10uU3ViTWVudVtkXS5TdWJNZW51W2VdLlN1Yk1lbnVbZl0gPSB0QXR0c1sxXTsNCgkJCQkJCU1FTlVfQ09ERVt0QXR0c1sxXS5JRF0gPSB0QXR0c1syXTsNCgkJCQkJCQkNCgkJCQkJCQlmb3IgZyA9IDEsIFhNTC5Db3VudCgibWVudS86Ii4uYS4uIi86Ii4uYi4uIi86Ii4uYy4uIi86Ii4uZC4uIi86Ii4uZS4uIi86Ii4uZiwgIioiKSBkbw0KCQkJCQkJCWxvY2FsIHRBdHRzID0gR2V0QXR0cygibWVudS8qOiIuLmEuLiIvOiIuLmIuLiIvOiIuLmMuLiIvOiIuLmQuLiIvOiIuLmUuLiIvOiIuLmYuLiIvOiIuLmcpOw0KCQkJCQkJCXRNZW51W2FdLlN1Yk1lbnVbYl0uU3ViTWVudVtjXS5TdWJNZW51W2RdLlN1Yk1lbnVbZV0uU3ViTWVudVtmXS5TdWJNZW51W2ddID0gdEF0dHNbMV07DQoJCQkJCQkJTUVOVV9DT0RFW3RBdHRzWzFdLklEXSA9IHRBdHRzWzJdOw0KCQkJCQkJCQkJCQkJCQkNCgkJCQkJCQkJZm9yIGggPSAxLCBYTUwuQ291bnQoIm1lbnUvOiIuLmEuLiIvOiIuLmIuLiIvOiIuLmMuLiIvOiIuLmQuLiIvOiIuLmUuLiIvOiIuLmYuLiIvOiIuLmcsICIqIikgZG8NCgkJCQkJCQkJbG9jYWwgdEF0dHMgPSBHZXRBdHRzKCJtZW51Lyo6Ii4uYS4uIi86Ii4uYi4uIi86Ii4uYy4uIi86Ii4uZC4uIi86Ii4uZS4uIi86Ii4uZi4uIi86Ii4uZy4uIi86Ii4uaCk7DQoJCQkJCQkJCXRNZW51W2FdLlN1Yk1lbnVbYl0uU3ViTWVudVtjXS5TdWJNZW51W2RdLlN1Yk1lbnVbZV0uU3ViTWVudVtmXS5TdWJNZW51W2ddLlN1Yk1lbnVbaF0gPSB0QXR0c1sxXTsgIA0KCQkJCQkJCQlNRU5VX0NPREVbdEF0dHNbMV0uSURdID0gdEF0dHNbMl07DQoJCQkJCQkJCQkNCgkJCQkJCQkJCWZvciBpID0gMSwgWE1MLkNvdW50KCJtZW51LzoiLi5hLi4iLzoiLi5iLi4iLzoiLi5jLi4iLzoiLi5kLi4iLzoiLi5lLi4iLzoiLi5mLi4iLzoiLi5nLi4iLzoiLi5oLCAiKiIpIGRvDQoJCQkJCQkJCQlsb2NhbCB0QXR0cyA9IEdldEF0dHMoIm1lbnUvKjoiLi5hLi4iLzoiLi5iLi4iLzoiLi5jLi4iLzoiLi5kLi4iLzoiLi5lLi4iLzoiLi5mLi4iLzoiLi5nLi4iLzoiLi5oLi4iLzoiLi5pKTsNCgkJCQkJCQkJCXRNZW51W2FdLlN1Yk1lbnVbYl0uU3ViTWVudVtjXS5TdWJNZW51W2RdLlN1Yk1lbnVbZV0uU3ViTWVudVtmXS5TdWJNZW51W2ddLlN1Yk1lbnVbaF0uU3ViTWVudVtpXSA9IHRBdHRzWzFdOw0KCQkJCQkJCQkJTUVOVV9DT0RFW3RBdHRzWzFdLklEXSA9IHRBdHRzWzJdOw0KCQkJCQkJCQkJCQkJCQkJCQkJDQoJCQkJCQkJCQkJZm9yIGogPSAxLCBYTUwuQ291bnQoIm1lbnUvOiIuLmEuLiIvOiIuLmIuLiIvOiIuLmMuLiIvOiIuLmQuLiIvOiIuLmUuLiIvOiIuLmYuLiIvOiIuLmcuLiIvOiIuLmguLiIvOiIuLmksICIqIikgZG8NCgkJCQkJCQkJCQlsb2NhbCB0QXR0cyA9IEdldEF0dHMoIm1lbnUvKjoiLi5hLi4iLzoiLi5iLi4iLzoiLi5jLi4iLzoiLi5kLi4iLzoiLi5lLi4iLzoiLi5mLi4iLzoiLi5nLi4iLzoiLi5oLi4iLzoiLi5pLi4iLzoiLi5qKTsNCgkJCQkJCQkJCQl0TWVudVthXS5TdWJNZW51W2JdLlN1Yk1lbnVbY10uU3ViTWVudVtkXS5TdWJNZW51W2VdLlN1Yk1lbnVbZl0uU3ViTWVudVtnXS5TdWJNZW51W2hdLlN1Yk1lbnVbaV0uU3ViTWVudVtqXSA9IHRBdHRzWzFdOw0KCQkJCQkJCQkJCU1FTlVfQ09ERVt0QXR0c1sxXS5JRF0gPSB0QXR0c1syXTsNCgkJCQkJCQkJCQkJDQoJCQkJCQkJCQkJCWZvciBrID0gMSwgWE1MLkNvdW50KCJtZW51LzoiLi5hLi4iLzoiLi5iLi4iLzoiLi5jLi4iLzoiLi5kLi4iLzoiLi5lLi4iLzoiLi5mLi4iLzoiLi5nLi4iLzoiLi5oLi4iLzoiLi5pLi4iLzoiLi5qLCAiKiIpIGRvDQoJCQkJCQkJCQkJCWxvY2FsIHRBdHRzID0gR2V0QXR0cygibWVudS8qOiIuLmEuLiIvOiIuLmIuLiIvOiIuLmMuLiIvOiIuLmQuLiIvOiIuLmUuLiIvOiIuLmYuLiIvOiIuLmcuLiIvOiIuLmguLiIvOiIuLmkuLiIvOiIuLmouLiIvOiIuLmspOw0KCQkJCQkJCQkJCQl0TWVudVthXS5TdWJNZW51W2JdLlN1Yk1lbnVbY10uU3ViTWVudVtkXS5TdWJNZW51W2VdLlN1Yk1lbnVbZl0uU3ViTWVudVtnXS5TdWJNZW51W2hdLlN1Yk1lbnVbaV0uU3ViTWVudVtqXS5TdWJNZW51W2tdID0gdEF0dHNbMV07DQoJCQkJCQkJCQkJCU1FTlVfQ09ERVt0QXR0c1sxXS5JRF0gPSB0QXR0c1syXTsNCgkJCQkJCQkJCQkJDQoJCQkJCQkJCQkJCQlmb3IgbCA9IDEsIFhNTC5Db3VudCgibWVudS86Ii4uYS4uIi86Ii4uYi4uIi86Ii4uYy4uIi86Ii4uZC4uIi86Ii4uZS4uIi86Ii4uZi4uIi86Ii4uZy4uIi86Ii4uaC4uIi86Ii4uaS4uIi86Ii4uai4uIi86Ii4uaywgIioiKSBkbw0KCQkJCQkJCQkJCQkJbG9jYWwgdEF0dHMgPSBHZXRBdHRzKCJtZW51Lyo6Ii4uYS4uIi86Ii4uYi4uIi86Ii4uYy4uIi86Ii4uZC4uIi86Ii4uZS4uIi86Ii4uZi4uIi86Ii4uZy4uIi86Ii4uaC4uIi86Ii4uaS4uIi86Ii4uai4uIi86Ii4uay4uIi86Ii4ubCk7DQoJCQkJCQkJCQkJCQl0TWVudVthXS5TdWJNZW51W2JdLlN1Yk1lbnVbY10uU3ViTWVudVtkXS5TdWJNZW51W2VdLlN1Yk1lbnVbZl0uU3ViTWVudVtnXS5TdWJNZW51W2hdLlN1Yk1lbnVbaV0uU3ViTWVudVtqXS5TdWJNZW51W2tdLlN1Yk1lbnVbbF0gPSB0QXR0c1sxXTsNCgkJCQkJCQkJCQkJCU1FTlVfQ09ERVt0QXR0c1sxXS5JRF0gPSB0QXR0c1syXTsNCgkJCQkJCQkJCQkJCWVuZAkJCQ0KCQkJCQkJCQkJCQkNCgkJCQkJCQkJCQkJZW5kCQkJDQoJCQkJCQkJCQkJCQkJDQoJCQkJCQkJCQkJZW5kCQkJDQoJCQkJDQoJCQkJCQkJCQllbmQJCQkNCgkJCQkJCQkJCQkJCQkNCgkJCQkJCQkJZW5kCQkJDQoJCQkJCQkJCQ0KCQkJCQkJCQkNCgkJCQkJCQllbmQJCQkNCgkJCQkJCQkNCgkJCQkJCWVuZAkJCQ0KCQkJCQkJCQkJCQ0KCQkJCQllbmQJCQkNCgkJCQkJDQoJCQkJZW5kCQkJDQoJCQkJDQoJCQllbmQNCgkJCQ0KCQllbmQNCgkJDQoJZW5kDQoNCnJldHVybiB0TWVudQ0KZWxzZQ0KcmV0dXJuIG5pbA0KZW5kDQplbmQNCi0tIEVORCB8IEhJRERFTiBGVU5DVElPTlMNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PTw8PDw8PDw8PDw8PA0KLS18DQotLXwNCi0tfA0KLS18DQotLXwNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PTw8PDw8PDw8PDw8PA0KLS0gQkVHSU4gfCBNQUlOIEZVTkNUSU9OUw0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuQ3JlYXRlDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5DcmVhdGUoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzTWVudSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KaWYgbm90IE1FTlVfTUVOVVNbc01lbnVdIHRoZW4NCk1FTlVfTUVOVVNbc01lbnVdID0gIjxtZW51PjwvbWVudT4iOw0KcmV0dXJuIDANCmVsc2UNCnJldHVybiAxDQplbmQNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuRG9lc0V4aXN0DQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5Eb2VzRXhpc3QoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzTWVudSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KaWYgTUVOVV9NRU5VU1tzTWVudV0gdGhlbg0KcmV0dXJuIHRydWUNCmVsc2UNCnJldHVybiBmYWxzZQ0KZW5kDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBNZW51LkVuYWJsZQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuRW5hYmxlKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgYkFjdGl2ZSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsiYm9vbGVhbiJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCkFwcGxpY2F0aW9uLlNldE1lbnVCYXJBY3RpdmUoYkFjdGl2ZSk7DQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBNZW51LkdldEFjdGl2ZQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuR2V0QWN0aXZlKCkNCnJldHVybiBNRU5VX0FDVElWRQ0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTWVudS5HZXRDaGVja2VkDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5HZXRDaGVja2VkKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc01lbnVTdHJpbmcgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCnNNZW51U3RyaW5nID0gR2V0Rm9ybWF0dGVkUGF0aChzTWVudVN0cmluZyk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCBzQWN0aXZlTWVudSA9IE1lbnUuR2V0QWN0aXZlKCk7DQppZiBzQWN0aXZlTWVudSB+PSAiIiB0aGVuDQpTdG9yZVhNTChzQWN0aXZlTWVudSk7DQoNCmxvY2FsIHNQYXRoID0gTWVudVN0cmluZ1RvWE1MUGF0aChzTWVudVN0cmluZyk7DQpsb2NhbCBzQ2hlY2tlZCA9IFhNTC5HZXRBdHRyaWJ1dGUoc1BhdGgsICJjaGVja2VkIik7DQoNClJlc3RvcmVYTUwoKTsNCg0KCWlmIHNDaGVja2VkIH49ICIiIHRoZW4NCgkJDQoJCWlmIHNDaGVja2VkID09ICJ0cnVlIiB0aGVuDQoJCXJldHVybiB0cnVlDQoJCWVsc2UNCgkJcmV0dXJuIGZhbHNlDQoJCWVuZA0KCQkNCgllbHNlDQoJcmV0dXJuIGZhbHNlDQoJZW5kDQoNCmVsc2UNCnJldHVybiAtMw0KZW5kDQoNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuR2V0RW5hYmxlZA0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuR2V0RW5hYmxlZCguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywxKTsNCmxvY2FsIHNNZW51U3RyaW5nID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpzTWVudVN0cmluZyA9IEdldEZvcm1hdHRlZFBhdGgoc01lbnVTdHJpbmcpOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgc0FjdGl2ZU1lbnUgPSBNZW51LkdldEFjdGl2ZSgpOw0KaWYgc0FjdGl2ZU1lbnUgfj0gIiIgdGhlbg0KU3RvcmVYTUwoc0FjdGl2ZU1lbnUpOw0KDQpsb2NhbCBzUGF0aCA9IE1lbnVTdHJpbmdUb1hNTFBhdGgoc01lbnVTdHJpbmcpOw0KbG9jYWwgc0VuYWJsZWQgPSBYTUwuR2V0QXR0cmlidXRlKHNQYXRoLCAiZW5hYmxlZCIpOw0KCQ0KUmVzdG9yZVhNTCgpOw0KDQoJaWYgc0VuYWJsZWQgfj0gIiIgdGhlbg0KCQkNCgkJaWYgc0VuYWJsZWQgPT0gInRydWUiIHRoZW4NCgkJcmV0dXJuIHRydWUNCgkJZWxzZQ0KCQlyZXR1cm4gZmFsc2UNCgkJZW5kDQoJCQ0KCWVsc2UNCglyZXR1cm4gZmFsc2UNCgllbmQNCg0KZWxzZQ0KcmV0dXJuIC0zDQplbmQNCg0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTWVudS5HZXROYW1lcw0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuR2V0TmFtZXMoKQ0KbG9jYWwgdFJldCA9IHt9Ow0KaWYgTUVOVV9NRU5VUyB0aGVuDQoJDQoJZm9yIHNJbmRleCwgc1hNTCBpbiBwYWlycyhNRU5VX01FTlVTKSBkbw0KCXRSZXRbI3RSZXQgKyAxXSA9IHNJbmRleDsNCgllbmQNCgkNCmVuZA0KDQpyZXR1cm4gdFJldA0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTWVudS5HZXRJdGVtUHJvcGVydGllcw0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuR2V0SXRlbVByb3BlcnRpZXMoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzTWVudVN0cmluZyA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0Kc01lbnVTdHJpbmcgPSBHZXRGb3JtYXR0ZWRQYXRoKHNNZW51U3RyaW5nKTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHNBY3RpdmVNZW51ID0gTWVudS5HZXRBY3RpdmUoKTsNCmlmIHNBY3RpdmVNZW51IH49ICIiIHRoZW4NClN0b3JlWE1MKHNBY3RpdmVNZW51KTsNCg0KbG9jYWwgc1BhdGggPSBNZW51U3RyaW5nVG9YTUxQYXRoKHNNZW51U3RyaW5nKTsNCmxvY2FsIHRSZXQgPSB7DQoJCQkJSUQ9dG9udW1iZXIoWE1MLkdldEF0dHJpYnV0ZShzUGF0aCwgImlkIikpLA0KCQkJCVRleHQ9WE1MLkdldEF0dHJpYnV0ZShzWE1MUGF0aCwgInRleHQiKSwNCgkJCQlJY29uSUQ9dG9udW1iZXIoWE1MLkdldEF0dHJpYnV0ZShzUGF0aCwgImljb25pZCIpKSwNCgkJCQlFbmFibGVkPUNPTlZFUlQoWE1MLkdldEF0dHJpYnV0ZShzUGF0aCwgImVuYWJsZWQiKSwiYm9vbGVhbiIpLA0KCQkJCUNoZWNrZWQ9Q09OVkVSVChYTUwuR2V0QXR0cmlidXRlKHNQYXRoLCAiY2hlY2tlZCIpLCJib29sZWFuIiksDQoJCQkgfTsNCg0KUmVzdG9yZVhNTCgpOw0KcmV0dXJuIHRSZXQNCmVsc2UNCnJldHVybiAtMw0KZW5kDQoNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuR2V0VGFibGUNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBNZW51LkdldFRhYmxlKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc01lbnUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmlmIE1lbnUuRG9lc0V4aXN0KHNNZW51KSB0aGVuDQpTdG9yZVhNTChzTWVudSk7DQpsb2NhbCB0TWVudSA9IFBhcnNlWE1MVG9NZW51KHNNZW51KTsNClJlc3RvcmVYTUwoKTsNCnJldHVybiB0TWVudQ0KZWxzZQ0KcmV0dXJuIC0xDQplbmQNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuR2V0WE1MDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5HZXRYTUwoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzTWVudSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KaWYgTWVudS5Eb2VzRXhpc3Qoc01lbnUpIHRoZW4NCnJldHVybiBNRU5VX01FTlVTW3NNZW51XQ0KZWxzZQ0KcmV0dXJuIC0xDQplbmQNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuTG9hZEZyb21GaWxlDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5Mb2FkRnJvbUZpbGUoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMik7DQpsb2NhbCBzTWVudSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KbG9jYWwgc1hNTEZpbGUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMix7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmlmIG5vdCBGaWxlLkRvZXNFeGlzdChzWE1MRmlsZSkgdGhlbg0KcmV0dXJuIC00DQplbHNlDQpNRU5VX01FTlVTW3NNZW51XSA9IFRleHRGaWxlLlJlYWRUb1N0cmluZyhzWE1MRmlsZSk7DQpyZXR1cm4gMA0KZW5kDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBNZW51Lk9uTWVudQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuT25NZW51KC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgZV9JRCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsibnVtYmVyIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KaWYgTWVudS5HZXRBY3RpdmUoKSB+PSAiIiB0aGVuDQoJDQoJaWYgTUVOVV9DT0RFW2VfSURdIHRoZW4NCglsb2Fkc3RyaW5nKE1FTlVfQ09ERVtlX0lEXSkoKTsJDQoJZW5kDQoNCmVuZA0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTWVudS5SZW1vdmVJdGVtDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5SZW1vdmVJdGVtKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc01lbnVTdHJpbmcgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCmxvY2FsIGJBdXRvVXBkYXRlID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDIseyJib29sZWFuIiwibmlsIn0pOw0Kc01lbnVTdHJpbmcgPSBHZXRGb3JtYXR0ZWRQYXRoKHNNZW51U3RyaW5nKTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHNBY3RpdmVNZW51ID0gTWVudS5HZXRBY3RpdmUoKTsNCg0KaWYgc0FjdGl2ZU1lbnUgfj0gIiIgdGhlbg0KU3RvcmVYTUwoc0FjdGl2ZU1lbnUpOw0KDQpsb2NhbCBzUGF0aCA9IE1lbnVTdHJpbmdUb1hNTFBhdGgoc01lbnVTdHJpbmcpOw0KbG9jYWwgc0lEID0gWE1MLkdldEF0dHJpYnV0ZShzUGF0aCwgImlkIik7DQoNCglpZiBzSUQgfj0gIiIgdGhlbg0KCWxvY2FsIG5JRCA9IHRvbnVtYmVyKHNJRCk7DQoJDQoJCWlmIE1FTlVfQ09ERVtuSURdIHRoZW4NCgkJTUVOVV9DT0RFW25JRF0gPSBuaWw7DQoJCWVuZA0KCQkNCgllbmQNCg0KWE1MLlJlbW92ZUVsZW1lbnQoc1BhdGgpOw0KTUVOVV9NRU5VU1tzQWN0aXZlTWVudV0gPSBYTUwuR2V0WE1MKCk7DQoJDQoJaWYgYkF1dG9VcGRhdGUgdGhlbg0KCUFwcGxpY2F0aW9uLlNldE1lbnUoUGFyc2VYTUxUb01lbnUoc0FjdGl2ZU1lbnUpKTsNCgllbmQNCgkNClJlc3RvcmVYTUwoKTsNCnJldHVybiAwDQplbHNlDQpyZXR1cm4gLTMNCmVuZA0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBNZW51LlJlbmFtZQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuUmVuYW1lKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDIpOw0KbG9jYWwgc01lbnUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCmxvY2FsIHNOZXdOYW1lID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDIseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQppZiBNZW51LkRvZXNFeGlzdChzTWVudSkgdGhlbg0KDQoJaWYgbm90IE1lbnUuRG9lc0V4aXN0KHNOZXdOYW1lKSB0aGVuDQoJTUVOVV9NRU5VU1tzTmV3TmFtZV0gPSBNRU5VX01FTlVTW3NNZW51XTsNCglNRU5VX01FTlVTW3NNZW51XSA9IG5pbDsNCgkJDQoJCWlmIE1lbnUuR2V0QWN0aXZlKCkgPT0gc01lbnUgdGhlbg0KCQlNZW51LlNldEFjdGl2ZShzTmV3TmFtZSk7DQoJCWVuZA0KCQkNCglyZXR1cm4gMAkNCgllbHNlDQoJcmV0dXJuIDENCgllbmQNCgkNCmVsc2UNCnJldHVybiAtMQ0KZW5kDQoNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuUmVuYW1lSXRlbQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuUmVuYW1lSXRlbSguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywyKTsNCmxvY2FsIHNNZW51U3RyaW5nID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpsb2NhbCBzTmV3TmFtZSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywyLHsic3RyaW5nIn0pOw0KbG9jYWwgYkF1dG9VcGRhdGUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMyx7ImJvb2xlYW4iLCJuaWwifSk7DQpzTWVudVN0cmluZyA9IEdldEZvcm1hdHRlZFBhdGgoc01lbnVTdHJpbmcpOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgc0FjdGl2ZU1lbnUgPSBNZW51LkdldEFjdGl2ZSgpOw0KDQppZiBzQWN0aXZlTWVudSB+PSAiIiB0aGVuDQpTdG9yZVhNTChzQWN0aXZlTWVudSk7DQoNCmxvY2FsIHNQYXRoID0gTWVudVN0cmluZ1RvWE1MUGF0aChzTWVudVN0cmluZyk7DQpYTUwuU2V0QXR0cmlidXRlKHNQYXRoLCAidGV4dCIsIHNOZXdOYW1lKTsNCg0KTUVOVV9NRU5VU1tzQWN0aXZlTWVudV0gPSBYTUwuR2V0WE1MKCk7DQoJDQoJaWYgYkF1dG9VcGRhdGUgdGhlbg0KCUFwcGxpY2F0aW9uLlNldE1lbnUoUGFyc2VYTUxUb01lbnUoc0FjdGl2ZU1lbnUpKTsNCgllbmQNCg0KUmVzdG9yZVhNTCgpOw0KcmV0dXJuIDANCmVsc2UNCnJldHVybiAtMw0KZW5kDQoNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuU2F2ZVRvRmlsZQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuU2F2ZVRvRmlsZSguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywyKTsNCmxvY2FsIHNNZW51ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpsb2NhbCBzWE1MRmlsZSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywyLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KaWYgTWVudS5Eb2VzRXhpc3Qoc01lbnUpIHRoZW4NClRleHRGaWxlLldyaXRlRnJvbVN0cmluZyhzWE1MRmlsZSwgTUVOVV9NRU5VU1tzTWVudV0sIGZhbHNlKTsNCgkNCglpZiBBcHBsaWNhdGlvbi5HZXRMYXN0RXJyb3IoKSA9PSAwIHRoZW4NCglyZXR1cm4gMA0KCWVsc2UNCglyZXR1cm4gLTQNCgllbmQNCgkNCmVsc2UNCnJldHVybiAtMQ0KZW5kDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBNZW51LlNldEFjdGl2ZQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuU2V0QWN0aXZlKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc01lbnUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmlmIG5vdCBNRU5VX01FTlVTW3NNZW51XSB0aGVuDQpNRU5VX01FTlVTW3NNZW51XSA9ICI8bWVudT48L21lbnU+IjsNCmVuZA0KDQpNRU5VX0FDVElWRSA9IHNNZW51Ow0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTWVudS5TZXRDaGVja2VkDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5TZXRDaGVja2VkKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDIpOw0KbG9jYWwgc01lbnVTdHJpbmcgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCmxvY2FsIGJDaGVja2VkID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDIseyJib29sZWFuIn0pOw0KbG9jYWwgYkF1dG9VcGRhdGUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMyx7ImJvb2xlYW4iLCJuaWwifSk7DQpzTWVudVN0cmluZyA9IEdldEZvcm1hdHRlZFBhdGgoc01lbnVTdHJpbmcpOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgc0FjdGl2ZU1lbnUgPSBNZW51LkdldEFjdGl2ZSgpOw0KaWYgc0FjdGl2ZU1lbnUgfj0gIiIgdGhlbg0KU3RvcmVYTUwoc0FjdGl2ZU1lbnUpOw0KDQpsb2NhbCBzUGF0aCA9IE1lbnVTdHJpbmdUb1hNTFBhdGgoc01lbnVTdHJpbmcpOw0KWE1MLlNldEF0dHJpYnV0ZShzUGF0aCwgImNoZWNrZWQiLCBDT05WRVJUKGJDaGVja2VkLCAic3RyaW5nIikpOw0KDQpNRU5VX01FTlVTW3NBY3RpdmVNZW51XSA9IFhNTC5HZXRYTUwoKTsNCgkNCglpZiBiQXV0b1VwZGF0ZSB0aGVuDQoJQXBwbGljYXRpb24uU2V0TWVudShQYXJzZVhNTFRvTWVudShzQWN0aXZlTWVudSkpOw0KCWVuZA0KCQ0KUmVzdG9yZVhNTCgpOw0KcmV0dXJuIDANCmVsc2UNCnJldHVybiAtMw0KZW5kDQoNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuU2V0RW5hYmxlZA0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuU2V0RW5hYmxlZCguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywyKTsNCmxvY2FsIHNNZW51U3RyaW5nID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpsb2NhbCBiRW5hYmxlZCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywyLHsiYm9vbGVhbiJ9KTsNCmxvY2FsIGJBdXRvVXBkYXRlID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDMseyJib29sZWFuIiwibmlsIn0pOw0Kc01lbnVTdHJpbmcgPSBHZXRGb3JtYXR0ZWRQYXRoKHNNZW51U3RyaW5nKTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHNBY3RpdmVNZW51ID0gTWVudS5HZXRBY3RpdmUoKTsNCmlmIHNBY3RpdmVNZW51IH49ICIiIHRoZW4NClN0b3JlWE1MKHNBY3RpdmVNZW51KTsNCg0KbG9jYWwgc1BhdGggPSBNZW51U3RyaW5nVG9YTUxQYXRoKHNNZW51U3RyaW5nKTsNClhNTC5TZXRBdHRyaWJ1dGUoc1BhdGgsICJlbmFibGVkIiwgQ09OVkVSVChiRW5hYmxlZCwgInN0cmluZyIpKTsNCg0KTUVOVV9NRU5VU1tzQWN0aXZlTWVudV0gPSBYTUwuR2V0WE1MKCk7DQoJDQoJaWYgYkF1dG9VcGRhdGUgdGhlbg0KCUFwcGxpY2F0aW9uLlNldE1lbnUoUGFyc2VYTUxUb01lbnUoc0FjdGl2ZU1lbnUpKTsNCgllbmQNCgkNClJlc3RvcmVYTUwoKTsNCmVsc2UNCnJldHVybiAtMw0KZW5kDQoNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIE1lbnUuU2V0RGVsbWl0ZXINCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBNZW51LlNldERlbG1pdGVyKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc0RlbGltaXRlciA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KaWYgc0RlbGltaXRlciB+PSAiIiB0aGVuDQpsb2NhbCB0Q2hhcnMgPSB7IlxyXG4iLCJcXCIsIlwnIiwiXCIiLCI8IiwiPiIsIj0ifTsNCmxvY2FsIGJDb250aW51ZSA9IHRydWU7DQoNCglmb3IgbkluZGV4LCBzQ2hhciBpbiBwYWlycyh0Q2hhcnMpIGRvDQoJDQoJCWlmIHNEZWxpbWl0ZXIgPT0gc0NoYXIgdGhlbg0KCQliQ29udGludWUgPSBmYWxzZTsNCgkJYnJlYWs7DQoJCWVuZA0KCQkNCgllbmQNCg0KCWlmIGJDb250aW51ZSB0aGVuDQoJTUVOVV9ERUxJTUlURVIgPSBzRGVsaW1pdGVyOw0KCWVuZA0KCQ0KZW5kDQpyZXR1cm4gTUVOVV9ERUxJTUlURVINCmVuZA0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTWVudS5TZXRJdGVtDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5TZXRJdGVtKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDUpOw0KbG9jYWwgc01lbnVTdHJpbmcgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCmxvY2FsIG5JY29uSUQgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMix7Im51bWJlciJ9KTsNCmxvY2FsIGJFbmFibGVkID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDMseyJib29sZWFuIn0pOw0KbG9jYWwgYkNoZWNrZWQgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsNCx7ImJvb2xlYW4ifSk7DQpsb2NhbCBzQ29kZSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZyw1LHsic3RyaW5nIn0pOw0KbG9jYWwgYkF1dG9VcGRhdGUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsNix7ImJvb2xlYW4iLCJuaWwifSk7DQpzQ29kZSA9IFN0cmluZ1RvWE1MQXR0KHNDb2RlKTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHNBY3RpdmVNZW51ID0gTWVudS5HZXRBY3RpdmUoKTsNCg0KaWYgc0FjdGl2ZU1lbnUgfj0gIiIgdGhlbg0KbG9jYWwgdE1lbnVJdGVtcyA9IERTVFQoc01lbnVTdHJpbmcsIE1FTlVfREVMSU1JVEVSKTsNCg0KCWlmIHRNZW51SXRlbXMgdGhlbg0KCVN0b3JlWE1MKHNBY3RpdmVNZW51KTsNCglsb2NhbCBzUGF0aCA9ICJtZW51IjsNCglsb2NhbCBuVG90YWxJdGVtcyA9IFRhYmxlLkNvdW50KHRNZW51SXRlbXMpOw0KCQkNCgkJZm9yIG5JbmRleCwgc0l0ZW0gaW4gcGFpcnModE1lbnVJdGVtcykgZG8NCgkJbG9jYWwgc1RleHQgPSBzSXRlbTsNCgkJbG9jYWwgbklEID0gTWF0aC5SYW5kb20oMSwgMTAwMDApOw0KCQkJDQoJCQlpZiBzSXRlbSA9PSAiLS0tIiB0aGVuDQoJCQlzSXRlbSA9ICJTRVBBUkFUT1ItIi4uIiIuLm5JRC4uIiI7DQoJCQlzVGV4dCA9ICItLS0iOw0KCQkJZW5kDQoJCQ0KCQlzUGF0aCA9IHNQYXRoLi4iLyIuLnNJdGVtOwkNCgkJc1BhdGggPSBHZXRGb3JtYXR0ZWRQYXRoKHNQYXRoKTsNCgkJCQkJDQoJCQlpZiBYTUwuR2V0QXR0cmlidXRlKHNQYXRoLCAiaWNvbmlkIikgPT0gIiIgdGhlbg0KCQkJWE1MLlNldFZhbHVlKHNQYXRoLCAiIiwgZmFsc2UpOw0KCQkJWE1MLlNldEF0dHJpYnV0ZShzUGF0aCwgImlkIiwgIiIuLm5JRC4uIiIpOwkNCgkJCVhNTC5TZXRBdHRyaWJ1dGUoc1BhdGgsICJ0ZXh0Iiwgc1RleHQpOwkNCgkJCVhNTC5TZXRBdHRyaWJ1dGUoc1BhdGgsICJpY29uaWQiLCAiMCIpOw0KCQkJWE1MLlNldEF0dHJpYnV0ZShzUGF0aCwgImVuYWJsZWQiLCAidHJ1ZSIpOw0KCQkJWE1MLlNldEF0dHJpYnV0ZShzUGF0aCwgImNoZWNrZWQiLCAiZmFsc2UiKTsNCgkJCVhNTC5TZXRBdHRyaWJ1dGUoc1BhdGgsICJjb2RlIiwgIiIpOw0KCQkJZW5kDQoJCQkNCgkJCWlmIG5JbmRleCA9PSBuVG90YWxJdGVtcyB0aGVuDQoJCQlYTUwuU2V0QXR0cmlidXRlKHNQYXRoLCAidGV4dCIsIHNUZXh0KTsJDQoJCQlYTUwuU2V0QXR0cmlidXRlKHNQYXRoLCAiaWNvbmlkIiwgQ09OVkVSVChuSWNvbklELCJzdHJpbmciKSk7DQoJCQlYTUwuU2V0QXR0cmlidXRlKHNQYXRoLCAiZW5hYmxlZCIsIENPTlZFUlQoYkVuYWJsZWQsInN0cmluZyIpKTsNCgkJCVhNTC5TZXRBdHRyaWJ1dGUoc1BhdGgsICJjaGVja2VkIiwgQ09OVkVSVChiQ2hlY2tlZCwic3RyaW5nIikpOw0KCQkJWE1MLlNldEF0dHJpYnV0ZShzUGF0aCwgImNvZGUiLCBzQ29kZSk7DQoJCQllbmQNCgkJDQoJCWVuZA0KCQ0KCU1FTlVfTUVOVVNbc0FjdGl2ZU1lbnVdID0gWE1MLkdldFhNTCgpOw0KDQoJaWYgYkF1dG9VcGRhdGUgdGhlbg0KCUFwcGxpY2F0aW9uLlNldE1lbnUoUGFyc2VYTUxUb01lbnUoc0FjdGl2ZU1lbnUpKTsNCgllbmQNCgkNCglSZXN0b3JlWE1MKCk7DQoJcmV0dXJuIDANCgllbHNlDQoJcmV0dXJuIC0yDQoJZW5kDQoJCQkJDQplbHNlDQpyZXR1cm4gLTMNCmVuZA0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTWVudS5TZXRYTUwNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBNZW51LlNldFhNTCguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywyKTsNCmxvY2FsIHNNZW51ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpsb2NhbCBzWE1MID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDIseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpNRU5VX01FTlVTW3NNZW51XSA9IHNYTUw7DQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBNZW51LlRvZ2dsZUNoZWNrZWQNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBNZW51LlRvZ2dsZUNoZWNrZWQoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzTWVudVN0cmluZyA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KbG9jYWwgYkF1dG9VcGRhdGUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMix7ImJvb2xlYW4iLCJuaWwifSk7DQpzTWVudVN0cmluZyA9IEdldEZvcm1hdHRlZFBhdGgoc01lbnVTdHJpbmcpOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgc0FjdGl2ZU1lbnUgPSBNZW51LkdldEFjdGl2ZSgpOw0KaWYgc0FjdGl2ZU1lbnUgfj0gIiIgdGhlbg0KU3RvcmVYTUwoc0FjdGl2ZU1lbnUpOw0KDQpsb2NhbCBzUGF0aCA9IE1lbnVTdHJpbmdUb1hNTFBhdGgoc01lbnVTdHJpbmcpOw0KbG9jYWwgc1N0YXR1cyA9IFhNTC5HZXRBdHRyaWJ1dGUoc1BhdGgsICJjaGVja2VkIik7DQppZiBzU3RhdHVzID09ICJ0cnVlIiB0aGVuDQpYTUwuU2V0QXR0cmlidXRlKHNQYXRoLCAiY2hlY2tlZCIsICJmYWxzZSIpOw0KZWxzZWlmIHNTdGF0dXMgPT0gImZhbHNlIiB0aGVuDQpYTUwuU2V0QXR0cmlidXRlKHNQYXRoLCAiY2hlY2tlZCIsICJ0cnVlIik7DQplbmQNCg0KTUVOVV9NRU5VU1tzQWN0aXZlTWVudV0gPSBYTUwuR2V0WE1MKCk7DQoJDQoJaWYgYkF1dG9VcGRhdGUgdGhlbg0KCUFwcGxpY2F0aW9uLlNldE1lbnUoUGFyc2VYTUxUb01lbnUoc0FjdGl2ZU1lbnUpKTsNCgllbmQNCgkNClJlc3RvcmVYTUwoKTsNCnJldHVybiAwDQplbHNlDQpyZXR1cm4gLTMNCmVuZA0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBNZW51LlRvZ2dsZUVuYWJsZWQNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBNZW51LlRvZ2dsZUVuYWJsZWQoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzTWVudVN0cmluZyA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KbG9jYWwgYkF1dG9VcGRhdGUgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMix7ImJvb2xlYW4iLCJuaWwifSk7DQpzTWVudVN0cmluZyA9IEdldEZvcm1hdHRlZFBhdGgoc01lbnVTdHJpbmcpOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgc0FjdGl2ZU1lbnUgPSBNZW51LkdldEFjdGl2ZSgpOw0KaWYgc0FjdGl2ZU1lbnUgfj0gIiIgdGhlbg0KU3RvcmVYTUwoc0FjdGl2ZU1lbnUpOw0KDQpsb2NhbCBzUGF0aCA9IE1lbnVTdHJpbmdUb1hNTFBhdGgoc01lbnVTdHJpbmcpOw0KbG9jYWwgc1N0YXR1cyA9IFhNTC5HZXRBdHRyaWJ1dGUoc1BhdGgsICJlbmFibGVkIik7DQppZiBzU3RhdHVzID09ICJ0cnVlIiB0aGVuDQpYTUwuU2V0QXR0cmlidXRlKHNQYXRoLCAiZW5hYmxlZCIsICJmYWxzZSIpOw0KZWxzZWlmIHNTdGF0dXMgPT0gImZhbHNlIiB0aGVuDQpYTUwuU2V0QXR0cmlidXRlKHNQYXRoLCAiZW5hYmxlZCIsICJ0cnVlIik7DQplbmQNCg0KTUVOVV9NRU5VU1tzQWN0aXZlTWVudV0gPSBYTUwuR2V0WE1MKCk7DQoJDQoJaWYgYkF1dG9VcGRhdGUgdGhlbg0KCUFwcGxpY2F0aW9uLlNldE1lbnUoUGFyc2VYTUxUb01lbnUoc0FjdGl2ZU1lbnUpKTsNCgllbmQNCgkNClJlc3RvcmVYTUwoKTsNCnJldHVybiAwDQplbHNlDQpyZXR1cm4gLTMNCmVuZA0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTWVudS5VbmRlcmxpbmVNYWluTWVudUl0ZW0NCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTWVudS5VbmRlcmxpbmVNYWluTWVudUl0ZW0oLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzTWVudUl0ZW0gPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCg0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09DQotLSBNZW51LlVwZGF0ZQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIE1lbnUuVXBkYXRlKCkNCmxvY2FsIHNBY3RpdmVNZW51ID0gTWVudS5HZXRBY3RpdmUoKTsNCg0KaWYgc0FjdGl2ZU1lbnUgfj0gIiIgdGhlbg0KU3RvcmVYTUwoc0FjdGl2ZU1lbnUpOw0KQXBwbGljYXRpb24uU2V0TWVudShQYXJzZVhNTFRvTWVudShzQWN0aXZlTWVudSkpOw0KUmVzdG9yZVhNTCgpOw0KcmV0dXJuIDANCg0KZWxzZQ0KcmV0dXJuIC0zDQplbmQNCg0KZW5kDQotLSBFTkQgfCBNQUlOIEZVTkNUSU9OUw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PDw8PDw8PDw8PDw8</Source>
            <FoldLines />
            <BookMarks />
        </Script>
    </Scripts>
    <Modules />
    <Dependencies />
    <Resources />
    <Properties>
        <Property Name="PluginName">Menu</Property>
        <Property Name="HelpFileAuthoring">1</Property>
        <Property Name="PluginVersion">1.0.0.0</Property>
        <Property Name="AuthorInfo">Menu Plugin For AutoPlay Media Studio</Property>
    </Properties>
    <Intellisense />
</Project>
