<!-- Warning : Do not edit this document manually -->
<?xml version="1.0" encoding="ISO-8859-1" ?>
<Project>
    <ProjectInfo>
        <Type>0</Type>
        <ID>{6e61cc8d-eb6b-44d7-8783-1103a969793b}</ID>
        <Environment>1</Environment>
    </ProjectInfo>
    <ProductInfo>
        <Created>
            <Name>AmsPluginMaker 1.1</Name>
            <Version>1.1.0.0</Version>
            <Date>1/11/2020 4:45:53 PM</Date>
            <Type>Commercial Version</Type>
            <ID>{7a2e86e3-5079-44d5-8208-2aa1334ccc56}</ID>
            <MajorVersion>1</MajorVersion>
            <MinorVersion>1</MinorVersion>
        </Created>
        <Modified>
            <Name>AmsPluginMaker 1.1</Name>
            <Version>1.1.0.0</Version>
            <Date>1/11/2020 4:45:58 PM</Date>
            <Type>Commercial Version</Type>
            <ID>{7a2e86e3-5079-44d5-8208-2aa1334ccc56}</ID>
            <MajorVersion>1</MajorVersion>
            <MinorVersion>1</MinorVersion>
        </Modified>
    </ProductInfo>
    <Scripts>
        <Script Name="Lua" ScrollPosition="0" CursorPosition="45147">
            <Source>LS1bW0Rlc2NyaXB0aW9uDQo8cD5BY3Rpb24gQmFuayBJbmZ1c2lvbiAoQUJJKSBhbHRlcnMgc29tZSBvZiB0aGUgY29yZSBBTVMgZnVuY3Rpb25zLjwvcD4NCjxwPlRoaXMgcGx1Z2luIGluamVjdHMgdGhlc2UgY2hhbmdlZCBmdW5jdGlvbnMgZGlyZWN0bHkgaW50byB0aGUgcHJpbWFyeSBhY3Rpb24gbGlzdC48L3A+DQo8cD5JdCBhbHNvIGFkZHMgbWFueSBuZXcgZnVuY3Rpb25zIHRoYXQgcmVzdCB3aXRoaW4gdGhlIGNvcmUgbWV0aG9kIGNsYXNzZXMuPC9wPg0KPHA+TmV3IEFjdGlvbnMgcmFuZ2UgZnJvbSBEaWFsb2dFeCBmdW5jdGlvbnMgdG8gWE1MIGZ1bmN0aW9ucyBhbmQgYXJlIGluZnVzZWQgZGlyZWN0bHkgaW50byB0aGVpciByZXNwZWN0aXZlIHBhcmVudCB0YWJsZXMuPC9wPg0KXV0NCi0tW1tGZWF0dXJlcw0KPHVsIGNsYXNzPSJjb21tZW50c19saXN0X2ZlYXR1cmVzIj4NCgk8bGk+SW1wcm92ZXMgbWFueSBleGlzdGluZyBmdW5jdGlvbnM8L2xpPg0KCTxsaT5BZGRzIHNldmVyYWwgbmV3IGZ1bmN0aW9ucyBpbiBleGlzdGluZyBtZXRob2QgdGFibGVzPC9saT4NCjwvdWw+DQpdXQ0KLS1bW1ZlcnNpb24gSGlzdG9yeQ0KPHA+PGI+VmVyc2lvbiAzLjAuMC4xPC9iPjwvcD4NCjxwPjxpPkFkZGVkIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zOjwvaT48L3A+DQo8dWwgY2xhc3M9ImNvbW1lbnRzX2xpc3QiPg0KCTxsaT5Gb2xkZXIuR2V0RW5kRm9sZGVyKCk8L2xpPg0KCTxsaT5TdHJpbmcuTnVtYmVyVG9Xb3JkcygpPC9saT4NCjwvdWw+DQo8YnIvPg0KPHA+PGI+VmVyc2lvbiAzLjAuMC4wPC9iPjwvcD4NCjxwPlJlbmFtZWQgdGhlIHByb2plY3QgdG8gIkFCSSIgKEFjdGlvbiBCYW5rIEluZnVzaW9uKS48L3A+DQo8cD5VcGRhdGVkIHRoZSBJUkx1YSBQbHVnaW4gSGVscGVyIEZ1bmN0aW9ucyAodjIuOSkuPC9wPg0KPGJyLz4NCjxwPjxpPkFkZGVkIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zOjwvaT48L3A+DQo8dWwgY2xhc3M9ImNvbW1lbnRzX2xpc3QiPg0KCTxsaT5BcHBsaWNhdGlvbi5HZXRQYWdlT3JEaWFsb2coKTwvbGk+DQoJPGxpPkFwcGxpY2F0aW9uLklzRGlhbG9nKCk8L2xpPg0KCTxsaT5EaWFsb2dFeC5DbG9zZSgpPC9saT4NCgk8bGk+RGlhbG9nRXguU2hvdygpPC9saT4NCgk8bGk+Rm9sZGVyLkNsZWFyKCk8L2xpPg0KCTxsaT5Gb2xkZXIuR2V0UGFyZW50KCk8L2xpPg0KCTxsaT5TdHJpbmcuQ2FwYXRhbGl6ZSgpPC9saT4NCgk8bGk+U3RyaW5nLlRvVGFibGUoKTwvbGk+DQoJPGxpPlN0cmluZy5Jc0JsYW5rKCk8L2xpPg0KCTxsaT5XaW5kb3cuQ2VudGVyKCk8L2xpPg0KPC91bD4NCl1dDQotLSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KLS0gSVJMVUEgUExVR0lOIEhFTFBFUiBGVU5DVElPTlMgQnkgTWljcm9CeXRlIChSZXZpc2VkIGJ5IENlbnRhdXJpIFNvbGRpZXIpIHx8QCMkfHwgVkVSU0lPTiAyLjkgfHwkI0B8fCANCi0tIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpfU2hvd0Vycm9yRXZlbnRDb250ZXh0PXRydWUtLSBzZXQgdGhpcyB0byBmYWxzZSB0byBkaXNhYmxlICdFdmVudENvbnRleHQnIGRpc3BsYXkNCi0tIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpsb2NhbCBJUkxVQV9QTFVHSU5fRVJST1IgPSBlcnJvcjsNCi0tIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQotLSBTZXRzIGEgR2xvYmFsIGVycm9yIG1lc3NhZ2UgaW4gdGhlIHJ1bnRpbWUgZW5naW5lLg0KSVJMVUFfUExVR0lOX1NldEdsb2JhbEVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uKG5Db2RlLCBzTWVzc2FnZSkNCglpZiBfdGJsRXJyb3JNZXNzYWdlc1tuQ29kZV0gdGhlbg0KCQlpZiBfU2hvd0Vycm9yRXZlbnRDb250ZXh0IHRoZW4NCgkJCWxvY2FsIHNFdmVudENvbnRleHQ9RGVidWcuR2V0RXZlbnRDb250ZXh0KCkNCgkJCUlSTFVBX1BMVUdJTl9FUlJPUigiRXJyb3IgY29kZSAiLi5uQ29kZS4uIiBhbHJlYWR5IGluIHVzZSwgcGxlYXNlIHVzZSBhbm90aGVyLlxyXG5cclxuRXZlbnRDb250ZXh0OiAiLi5zRXZlbnRDb250ZXh0LDIpDQoJCWVsc2UNCgkJCUlSTFVBX1BMVUdJTl9FUlJPUigiRXJyb3IgY29kZSAiLi5uQ29kZS4uIiBhbHJlYWR5IGluIHVzZSwgcGxlYXNlIHVzZSBhbm90aGVyLiIsMikNCgkJZW5kDQoJZWxzZQ0KCQlfdGJsRXJyb3JNZXNzYWdlc1tuQ29kZV09c01lc3NhZ2UNCgllbmQNCmVuZA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tIENoZWNrcyB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpbiB0aGUgdGFibGUgYW5kIHRocm93cyBhIHN5bnRheCBlcnJvciBJZiB0aGVyZSBhcmUgTm90IGVub3VnaC4gDQotLSBUaGlzIGlzIHVzZWZ1bCBGb3IgY2hlY2tpbmcgdGhlIG51bWJlciBvZiBhcmd1bWVudHMgYXZhaWxhYmxlIFRvIHlvdXIgYWNpdG9uLg0KbG9jYWwgSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyA9IGZ1bmN0aW9uKHRiQXJncyxuQXJncykgDQoJbG9jYWwgbkNvdW50PXRhYmxlLmdldG4odGJBcmdzKQ0KCWlmIG5Db3VudCA8IG5BcmdzIHRoZW4NCgkJaWYgX1Nob3dFcnJvckV2ZW50Q29udGV4dCB0aGVuDQoJCQlsb2NhbCBzRXZlbnRDb250ZXh0PURlYnVnLkdldEV2ZW50Q29udGV4dCgpDQoJCQlJUkxVQV9QTFVHSU5fRVJST1IobkFyZ3MuLiIgQXJndW1lbnRzIGV4cGVjdGVkLCAiLi5uQ291bnQuLiIgQXJndW1lbnRzIHBhc3NlZC5cclxuXHJcbkV2ZW50Q29udGV4dDogIi4uc0V2ZW50Q29udGV4dCwzKQ0KCQllbHNlDQoJCQlJUkxVQV9QTFVHSU5fRVJST1IobkFyZ3MuLiIgQXJndW1lbnRzIGV4cGVjdGVkLCAiLi5uQ291bnQuLiIgQXJndW1lbnRzIHBhc3NlZC4iLDMpDQoJCWVuZA0KCWVuZA0KZW5kDQotLSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KLS0gQ2hlY2tzIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIGFyZ3VtZW50IHRhYmxlIHBvc2l0aW9uIFRvIHNlZSBpZiBpdCBpcyBhbnkgb2YgdGhlIHNwZWNpZmllZCB0eXBlcy4NCi0tIElmIE5vdCBpdCB0aHJvd3MgYSBzeW50YXggZXJyb3IuDQotLVBvc3NpYmxlIHZhcmlhYmxlIHR5cGVzWyBib29sZWFuLCBmdW5jdGlvbiwgbmlsLCBudW1iZXIsIHN0cmluZywgdGFibGUsIHRocmVhZCwgdXNlcmRhdGFdDQpsb2NhbCBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyA9IGZ1bmN0aW9uKHRiQXJncyxuQXJnLHRUeXBlcykNCmxvY2FsIHNUeXBlID0gdHlwZSh0YkFyZ3NbbkFyZ10pOw0KbG9jYWwgblRvdGFsVHlwZXMgPSBUYWJsZS5Db3VudCh0VHlwZXMpOw0KbG9jYWwgblN0cmlrZXMgPSAwOw0KbG9jYWwgc0FsbG93ZWRUeXBlcyA9ICIiOw0KDQpmb3IgbkluZGV4LCBzQWxsb3dlZFR5cGUgaW4gcGFpcnModFR5cGVzKSBkbw0KCQ0KCWlmIG5JbmRleCA8IChuVG90YWxUeXBlcyAtIDEpIHRoZW4NCglzQWxsb3dlZFR5cGVzID0gc0FsbG93ZWRUeXBlcy4uIiAiLi5zQWxsb3dlZFR5cGUuLiIsIjsNCgllbHNlaWYgbkluZGV4ID09IG5Ub3RhbFR5cGVzIC0gMSB0aGVuDQoJc0FsbG93ZWRUeXBlcyA9IHNBbGxvd2VkVHlwZXMuLiIgIi4uc0FsbG93ZWRUeXBlOw0KCWVsc2VpZiBuSW5kZXggPT0gblRvdGFsVHlwZXMgdGhlbg0KCQlpZiBuVG90YWxUeXBlcyA9PSAxIHRoZW4NCgkJc0FsbG93ZWRUeXBlcyA9ICIgIi4uc0FsbG93ZWRUeXBlOw0KCQllbHNlDQoJCXNBbGxvd2VkVHlwZXMgPSBzQWxsb3dlZFR5cGVzLi4iIG9yICIuLnNBbGxvd2VkVHlwZTsNCgkJZW5kDQoJZW5kDQoJDQoJaWYgc1R5cGUgfj0gU3RyaW5nLkxvd2VyKHNBbGxvd2VkVHlwZSkgdGhlbg0KCW5TdHJpa2VzID0gblN0cmlrZXMgKyAxOw0KCWVuZA0KZW5kDQoNCmlmIG5TdHJpa2VzID09IG5Ub3RhbFR5cGVzIHRoZW4NCglpZiBfU2hvd0Vycm9yRXZlbnRDb250ZXh0IHRoZW4NCglsb2NhbCBzRXZlbnRDb250ZXh0PURlYnVnLkdldEV2ZW50Q29udGV4dCgpDQoJSVJMVUFfUExVR0lOX0VSUk9SKCJiYWQgYXJndW1lbnQgIyIgLi4gbkFyZyAuLiAiLCBtdXN0IGJlIGEgIi4uc0FsbG93ZWRUeXBlcy4uIiwgeW91IHBhc3NlZCBhICIuLnNUeXBlLi4iLlxyXG5cclxuRXZlbnRDb250ZXh0OiAiLi5zRXZlbnRDb250ZXh0LDMpDQoJZWxzZQ0KCUlSTFVBX1BMVUdJTl9FUlJPUigiYmFkIGFyZ3VtZW50ICMiIC4uIG5BcmcgLi4gIiwgbXVzdCBiZSBhICIuLnNBbGxvd2VkVHlwZXMuLiIsIHlvdSBwYXNzZWQgYSAiLi5zVHlwZS4uIi4iLDMpDQoJZW5kDQplbHNlDQpyZXR1cm4gdGJBcmdzW25BcmddDQplbmQNCmVuZA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tIEVuc3VyZXMgdGhhdCB5b3VyIHRhYmxlIGNvbnRhaW5zIGRhdGEgb2Ygb25seSB0aGUgc3BlY2lmaWVkIHR5cGUuIElmIGl0IGRvZXMgbm90IHRoZW4gZmFsc2UgaXMgcmV0dXJuZWQuDQotLSBUaGlzIHdpbGwgc2VlIG5pbCB2YWx1ZXMgYXMgc3VidGFibGUgZGVjbGFyYXRpb25zIGFuZCB3aWxsLCB0aGVyZWZvcmUsIGlnbm9yZSB0aGVtLg0KbG9jYWwgSVJMVUFfUExVR0lOX0NoZWNrVGFibGVWYXJzID0gZnVuY3Rpb24odFRhYmxlLHRWYXJUeXBlcykNCmxvY2FsIGJSZXQgPSB0cnVlOw0KbG9jYWwgblR5cGVzID0gVGFibGUuQ291bnQodFZhclR5cGVzKTsNCmxvY2FsIG5TdHJpa2VzID0gMDsNCg0KZm9yIG5JbmRleCwgc0l0ZW0gaW4gcGFpcnModFRhYmxlKSBkbw0KblN0cmlrZXMgPSAwOw0KDQoJZm9yIG5UeXBlLCBzVHlwZSBpbiBwYWlycyh0VmFyVHlwZXMpIGRvDQoNCgkJaWYgdHlwZShzSXRlbSkgfj0gc1R5cGUgdGhlbg0KCQluU3RyaWtlcyA9IG5TdHJpa2VzICsgMTsNCgkJZW5kDQoJCQkNCgllbmQNCgkNCglpZiBuU3RyaWtlcyA+PSBuVHlwZXMgdGhlbg0KCWJSZXQgPSBmYWxzZTsNCglicmVhazsNCgllbmQNCg0KZW5kDQpyZXR1cm4gYlJldA0KZW5kDQotLSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KLS0gQ29udmVydHMgY2VydGFpbiBkYXRhdHlwZXMgaW50byBvdGhlciBkYXRhdHlwZXMgfHx8IFN1cHBvcnRlZCBUeXBlcyB8fHwNCi0tIFtTdHJpbmcgPC0+IEJvb2xlYW5dIFtOdW1iZXIgPC0+IEJvb2xlYW5dIFtTdHJpbmcgPC0+IE51bWJlcl0NCi0tIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpsb2NhbCBDT05WRVJUID0gZnVuY3Rpb24gKHZJbnB1dCwgc05ld1R5cGUpDQpsb2NhbCBzT2xkVHlwZSA9IHR5cGUodklucHV0KTsNCg0KaWYgc05ld1R5cGUgPT0gImJvb2xlYW4iIHRoZW4NCg0KCWlmIHNPbGRUeXBlID09ICJzdHJpbmciIHRoZW4NCg0KCQlpZiBTdHJpbmcuTG93ZXIodklucHV0KSA9PSAidHJ1ZSIgdGhlbg0KCQlyZXR1cm4gdHJ1ZQ0KCQllbHNlaWYgU3RyaW5nLkxvd2VyKHZJbnB1dCkgPT0gImZhbHNlIiB0aGVuDQoJCXJldHVybiBmYWxzZQ0KCQllbmQNCgkJDQoJZWxzZWlmIHNPbGRUeXBlID09ICJudW1iZXIiIHRoZW4NCgkJDQoJCWlmIHZJbnB1dCA9PSAwIHRoZW4NCgkJcmV0dXJuIGZhbHNlDQoJCWVsc2VpZiB2SW5wdXQgPT0gMSB0aGVuDQoJCXJldHVybiB0cnVlDQoJCWVuZA0KCQ0KCWVsc2VpZiBzT2xkVHlwZSA9PSAidGFibGUiIHRoZW4NCgkNCgkJaWYgdklucHV0IHRoZW4NCgkJcmV0dXJuIHRydWUNCgkJZWxzZQ0KCQlyZXR1cm4gZmFsc2UNCgkJZW5kDQoJDQoJZWxzZQ0KCQ0KCXJldHVybiBmYWxzZQkNCgllbmQNCg0KZWxzZWlmIHNOZXdUeXBlID09ICJzdHJpbmciCXRoZW4NCgkNCglpZiBzT2xkVHlwZSA9PSAiYm9vbGVhbiIgdGhlbg0KCQ0KCQlpZiB2SW5wdXQgPT0gdHJ1ZSB0aGVuDQoJCXJldHVybiAidHJ1ZSINCgkJZWxzZWlmIHZJbnB1dCA9PSBmYWxzZSB0aGVuDQoJCXJldHVybiAiZmFsc2UiDQoJCWVuZA0KCQ0KCWVsc2VpZiBzT2xkVHlwZSA9PSAibnVtYmVyIiB0aGVuDQoJcmV0dXJuICIiLi52SW5wdXQuLiIiDQoJDQoJZWxzZQ0KCQ0KCXJldHVybiAiIg0KCWVuZA0KDQplbHNlaWYgc05ld1R5cGUgPT0gIm51bWJlciIgdGhlbg0KCQ0KCWlmIHNPbGRUeXBlID09ICJib29sZWFuIiB0aGVuDQoJDQoJCWlmIHZJbnB1dCA9PSB0cnVlIHRoZW4NCgkJcmV0dXJuIDENCgkJZWxzZWlmIHZJbnB1dCA9PSBmYWxzZSB0aGVuDQoJCXJldHVybiAwDQoJCWVuZA0KCQ0KCWVsc2VpZiBzT2xkVHlwZSA9PSAic3RyaW5nIiB0aGVuDQoJDQoJcmV0dXJuIHRvbnVtYmVyKHZJbnB1dCkJCQkJDQoJDQoJZWxzZQ0KCQ0KCXJldHVybiAtMQ0KCWVuZA0KDQplbmQNCmVuZA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tRVJST1IgUExVR0lOIERFVEFJTFMNCmxvY2FsIEVSUk9SX1BMVUdJTl9OQU1FID0gIkFCSSI7DQotLSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KLS1EaXNwbGF5cyBhIGN1c3RvbSBlcnJvciBtZXNzYWdlIHVzaW5nIHRoZSBwbHVnaW4gYW5kIGZ1bmN0aW9uIG5hbWUgYW5kIGxpc3RzIHRoZSBldmVudCBjb250ZXh0IGFzIHdlbGwuDQpsb2NhbCBFUlJPUiA9IGZ1bmN0aW9uKHNGdW5jdGlvbk5hbWUsc01lc3NhZ2UsbkVtYmVkTGV2ZWwpDQoNCmlmIG5vdCBuRW1iZWRMZXZlbCB0aGVuDQpuRW1iZWRMZXZlbCA9IDA7DQplbHNlaWYgdHlwZShuRW1iZWRMZXZlbCkgfj0gIm51bWJlciIgdGhlbg0KbkVtYmVkTGV2ZWwgPSAwOw0KZW5kDQoNCmlmIHR5cGUoc0Z1bmN0aW9uTmFtZSkgfj0gInN0cmluZyIgdGhlbg0Kc0Z1bmN0aW9uTmFtZSA9ICIiOw0KZW5kCQ0KDQpsb2NhbCBzRnVuY3Rpb25OYW1lQ29kZSA9ICIiOw0KaWYgU3RyaW5nLlJlcGxhY2Uoc0Z1bmN0aW9uTmFtZSwgIiAiLCAiIiwgZmFsc2UpIH49ICIiIHRoZW4NCnNGdW5jdGlvbk5hbWVDb2RlID0gIiwgZnVuY3Rpb24gXCIiLi5zRnVuY3Rpb25OYW1lLi4iKClcIiI7DQplbmQNCg0KSVJMVUFfUExVR0lOX0VSUk9SKCJcclxuRXJyb3IgaW4gXCIiLi5FUlJPUl9QTFVHSU5fTkFNRS4uIlwiIHBsdWdpbiIuLnNGdW5jdGlvbk5hbWVDb2RlLi4iXHJcblxyXG4iLi5zTWVzc2FnZS4uIlxyXG5cclxuRXZlbnRDb250ZXh0OiAiLi5EZWJ1Zy5HZXRFdmVudENvbnRleHQoKSwzICsgbkVtYmVkTGV2ZWwpOw0KZW5kDQotLSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KLS1UaHJvd3MgYW5kIGVycm9yIGlmIHRoZSByZXF1aXJlZCBwbHVnaW4gaXMgbm90IGxvYWRlZC4gVGhpcyBzaG91bGQgYmUgY2FsbGVkIGF0IHRoZSBjYWxsZWQgYXQgdGhlDQotLWJlZ2lubmluZyBvZiBlYWNoIGZ1bmN0aW9uLCBvbmNlIGZvciBlYWNoIHJlcXVpcmVkIHBsdWdpbi4NCi0tTk9URTogVGhpcyBtYXkgYmUgY2FsbGVkIGF0IG9uY2Ugb25seSBhdCB0aGUgc3RhcnQgb2YgeW91ciBwbHVnaW4gc2NyaXB0IGlmIHRoZSByZXF1aXJlZCBwbHVnaW4gaXMgYWZ0ZXIgeW91ciBwbHVnaW4gYWxwaGFiZXRpY2FsbHkNCmxvY2FsIFJFUVVJUkUgPSBmdW5jdGlvbih0UGx1Z2luLHNQbHVnaW5OYW1lKQ0KaWYgbm90IHRQbHVnaW4gdGhlbg0KSVJMVUFfUExVR0lOX0VSUk9SKCJcclxuRXJyb3IgbG9hZGluZyB0aGUgXCIiLi5FUlJPUl9QTFVHSU5fTkFNRS4uIlwiIHBsdWdpbi5cclxuVGhpcyBwbHVnaW4gcmVxdWlyZXMgdGhlIFwiIi4uc1BsdWdpbk5hbWUuLiJcIiBwbHVnaW4uIik7DQplbmQNCmVuZA0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tIEVORCBJUkxVQSBQTFVHSU4gSEVMUEVSIEZVTkNUSU9OUw0KLS0jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCi0tW1sNCg0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpdXQ0KRXggPSB7fTsNCkV4LkFwcGxpY2F0aW9uID0ge307DQotLWZpbmlzaCB0aGlzISEhISEhISEhISEhISEhISEhDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gQXBwbGljYXRpb24uR2V0UGFnZU9yRGlhbG9nDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBBcHBsaWNhdGlvbi5HZXRQYWdlT3JEaWFsb2coKQ0KbG9jYWwgc1R5cGUgPSAiIjsNCmxvY2FsIHNDdXJyZW50ID0gIiI7DQoNCmlmIEFwcGxpY2F0aW9uLkdldEN1cnJlbnREaWFsb2coKSB+PSAiIiB0aGVuDQpzQ3VycmVudCA9IEFwcGxpY2F0aW9uLkdldEN1cnJlbnREaWFsb2coKTsNCnNUeXBlID0gImRpYWxvZyI7DQpyZXR1cm4gc0N1cnJlbnQsIHNUeXBlDQplbHNlDQpzQ3VycmVudCA9IEFwcGxpY2F0aW9uLkdldEN1cnJlbnRQYWdlKCk7DQpzVHlwZSA9ICJwYWdlIjsNCnJldHVybiBzQ3VycmVudCwgc1R5cGUNCmVuZA0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBBcHBsaWNhdGlvbi5Jc0RpYWxvZw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIEFwcGxpY2F0aW9uLklzRGlhbG9nKCkNCmlmIEFwcGxpY2F0aW9uLkdldEN1cnJlbnREaWFsb2coKSB+PSAiIiB0aGVuDQpiUmV0ID0gdHJ1ZTsNCmVuZA0KcmV0dXJuIGZhbHNlDQplbmQNCg0KDQotLVtbIEkgRE9OVCBUSElOSyBJIE5FRUQgQU4gT0JKRUNUIFRZUEUgSEVSRQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gQXBwbGljYXRpb24uT2JqZWN0RG9lc0V4aXN0DQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBBcHBsaWNhdGlvbi5PYmplY3REb2VzRXhpc3QoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMik7DQpsb2NhbCBuT2JqZWN0VHlwZSA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsibnVtYmVyIn0pOw0KbG9jYWwgc1NlYXJjaE9iamVjdCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywyLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCBiUmV0ID0gZmFsc2U7DQpsb2NhbCB0QWxsT2JqZWN0cyA9IHt9Ow0KDQppZiBBcHBsaWNhdGlvbi5HZXRDdXJyZW50RGlhbG9nKCkgPT0gIiIgdGhlbg0KdEFsbE9iamVjdHMgPSBQYWdlLkVudW1lcmF0ZU9iamVjdHMoKTsNCg0KCWlmIHRBbGxPYmplY3RzIHRoZW4NCgkNCgkJZm9yIG5JbmRleCwgc09iamVjdCBpbiB0QWxsT2JqZWN0cyBkbw0KCQkJDQoJCQlpZiBQYWdlLkdldE9iamVjdFR5cGUoc09iamVjdCkgPT0gbk9iamVjdFR5cGUgYW5kIHNPYmplY3QgPT0gc1NlYXJjaE9iamVjdCB0aGVuDQoJCQliUmV0ID0gdHJ1ZTsNCgkJCWJyZWFrOw0KCQkJZW5kCQ0KCQkNCgkJZW5kDQoJDQoJZW5kDQoNCmVsc2UNCnRBbGxPYmplY3RzID0gRGlhbG9nRXguRW51bWVyYXRlT2JqZWN0cygpOw0KDQoJaWYgdEFsbE9iamVjdHMgdGhlbg0KCQ0KCQlmb3IgbkluZGV4LCBzT2JqZWN0IGluIHRBbGxPYmplY3RzIGRvDQoJCQkNCgkJCWlmIERpYWxvZ0V4LkdldE9iamVjdFR5cGUoc09iamVjdCkgPT0gbk9iamVjdFR5cGUgYW5kIHNPYmplY3QgPT0gc1NlYXJjaE9iamVjdCB0aGVuDQoJCQliUmV0ID0gdHJ1ZTsNCgkJCWJyZWFrOw0KCQkJZW5kCQ0KCQkNCgkJZW5kDQoJDQoJZW5kDQoNCmVuZA0KDQpyZXR1cm4gYlJldA0KZW5kDQpdXQ0KDQotLVtbDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gQ29tYm9Cb3guTW92ZVNlbGVjdGVkSXRlbURvd24NCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBDb21ib0JveC5Nb3ZlU2VsZWN0ZWRJdGVtRG93bihzT2JqZWN0KQ0KLS1JUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywxKTsNCi0tbG9jYWwgc09iamVjdCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCBuU2VsZWN0ZWQgPSBDb21ib0JveC5HZXRTZWxlY3RlZChzT2JqZWN0KTsNCg0KaWYgblNlbGVjdGVkIH49IC0xIHRoZW4NCmxvY2FsIHRJdGVtcyA9IHt9Ow0KDQoJaWYgblNlbGVjdGVkIH49IENvbWJvQm94LkdldENvdW50KHNPYmplY3QpIHRoZW4NCgkNCgkJZm9yIHggPSAxLCAyIGRvCQkNCgkJdEl0ZW1zW3hdID0gew0KCQlJRD0oblNlbGVjdGVkIC0geCArIDIpLA0KCQlUZXh0PUNvbWJvQm94LkdldEl0ZW1UZXh0KHNPYmplY3QsIChuU2VsZWN0ZWQgKyB4IC0gMSkpLA0KCQlEYXRhPUNvbWJvQm94LkdldEl0ZW1EYXRhKHNPYmplY3QsIChuU2VsZWN0ZWQgKyB4IC0gMSkpLA0KCQl9Ow0KCQllbmQNCgkJDQoJCWZvciBuSW5kZXgsIHRBdHQgaW4gcGFpcnModEl0ZW1zKSBkbw0KCQlDb21ib0JveC5TZXRJdGVtVGV4dChzT2JqZWN0LCB0QXR0LklELCB0QXR0LlRleHQpOw0KCQlDb21ib0JveC5TZXRJdGVtRGF0YShzT2JqZWN0LCB0QXR0LklELCB0QXR0LkRhdGEpOw0KCQllbmQNCgkJDQoJCUNvbWJvQm94LlNldFNlbGVjdGVkKHNPYmplY3QsIG5TZWxlY3RlZCArIDEpOw0KCQkNCgllbmQNCg0KZW5kDQoNCmVuZA0KXV0NCg0KLS1bWw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIENvbWJvQm94Lk1vdmVTZWxlY3RlZEl0ZW1VcA0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIENvbWJvQm94Lk1vdmVTZWxlY3RlZEl0ZW1VcChzT2JqZWN0KQ0KLS1JUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywxKTsNCi0tbG9jYWwgc09iamVjdCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCBuU2VsZWN0ZWQgPSBDb21ib0JveC5HZXRTZWxlY3RlZChzT2JqZWN0KTsNCg0KaWYgblNlbGVjdGVkIH49IC0xIHRoZW4NCmxvY2FsIHRJdGVtcyA9IHt9Ow0KDQoJaWYgblNlbGVjdGVkIH49IDEgYW5kIENvbWJvQm94LkdldENvdW50KHNPYmplY3QpID4gMSB0aGVuDQoJDQoJCWZvciB4ID0gMSwgMiBkbwkJDQoJCXRJdGVtc1t4XSA9IHsNCgkJSUQ9KG5TZWxlY3RlZCArIHggLSAyKSwNCgkJVGV4dD1Db21ib0JveC5HZXRJdGVtVGV4dChzT2JqZWN0LCAoblNlbGVjdGVkIC0geCArIDEpKSwNCgkJRGF0YT1Db21ib0JveC5HZXRJdGVtRGF0YShzT2JqZWN0LCAoblNlbGVjdGVkIC0geCArIDEpKSwNCgkJfTsNCgkJZW5kDQoJCQ0KCQlmb3IgbkluZGV4LCB0QXR0IGluIHBhaXJzKHRJdGVtcykgZG8NCgkJQ29tYm9Cb3guU2V0SXRlbVRleHQoc09iamVjdCwgdEF0dC5JRCwgdEF0dC5UZXh0KTsNCgkJQ29tYm9Cb3guU2V0SXRlbURhdGEoc09iamVjdCwgdEF0dC5JRCwgdEF0dC5EYXRhKTsNCgkJZW5kDQoJCQ0KCQlDb21ib0JveC5TZXRTZWxlY3RlZChzT2JqZWN0LCBuU2VsZWN0ZWQgLSAxKTsNCgkJDQoJZW5kDQoNCmVuZA0KDQplbmQNCg0KXV0NCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0gIHwgVGhpcyBEaWFsb2dFeCBjb2RlIGlzIHRoZSBjb21iaW5hdGlvbiBvZiBjb2RlIEJ5IFNoYWRpa3UgKFNoYWRvd1VLKQ0KLS0gRGlhbG9nRXguQ2xvc2UgICAgICAgICAgICAgIHwgYW5kIENlbnRhdXJpIFNvbGRpZXI7IG91ciBEaWFsb2cuRXgodCkgY29kZSBtZXJnZWQuDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgfA0KRGlhbG9nRXhfQ2xvc2UgPSBEaWFsb2dFeC5DbG9zZTsNCmZ1bmN0aW9uIERpYWxvZ0V4LkNsb3NlKHZSZXQpDQpEaWFsb2dFeF9SZXR1cm4gPSB2UmV0Ow0KRGlhbG9nRXhfQ2xvc2UoKTsNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0gIHwgVGhpcyBEaWFsb2dFeCBjb2RlIGlzIHRoZSBjb21iaW5hdGlvbiBvZiBjb2RlIEJ5IFNoYWRpa3UgKFNoYWRvd1VLKQ0KLS0gRGlhbG9nRXguU2hvdyAgICAgICAgICAgICAgIHwgYW5kIENlbnRhdXJpIFNvbGRpZXI7IG91ciBEaWFsb2cuRXgodCkgY29kZSBtZXJnZWQuDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgfA0KRGlhbG9nRXhfU2hvdyA9IERpYWxvZ0V4LlNob3c7DQpmdW5jdGlvbiBEaWFsb2dFeC5TaG93KHNEaWFsb2dOYW1lLCBiUGFyZW50Q29vcmRpbmF0ZXMsIG5YLCBuWSkNCmFzc2VydCh0eXBlKHNEaWFsb2dOYW1lKSA9PSAic3RyaW5nIiwgRGVidWcuR2V0RXZlbnRDb250ZXh0KCkuLiJcclxuQXJndW1lbnQgMSBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiIpOw0KCQ0KaWYgbm90IChiUGFyZW50Q29vcmRpbmF0ZXMpIHRoZW4NCmJQYXJlbnRDb29yZGluYXRlcyA9IGZhbHNlOw0KZW5kDQoJDQpsb2NhbCB2UmV0ID0gRGlhbG9nRXhfU2hvdyhzRGlhbG9nTmFtZSwgYlBhcmVudENvb3JkaW5hdGVzLCBuWCwgblkpOw0KCQ0KDQpsb2NhbCB2UmV0ID0gRGlhbG9nRXhfUmV0dXJuOw0KRGlhbG9nRXhfUmV0dXJuID0gbmlsOw0KcmV0dXJuIHZSZXQ7DQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBGb2xkZXIuQ2xlYXINCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBGb2xkZXIuQ2xlYXIoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzRm9sZGVyID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmlmIEZvbGRlci5Eb2VzRXhpc3Qoc0ZvbGRlcikgdGhlbg0KRm9sZGVyLkRlbGV0ZVRyZWUoc0ZvbGRlciwgbmlsKTsNCkZvbGRlci5DcmVhdGUoc0ZvbGRlcik7DQpsb2NhbCBuRXJyb3IgPSBBcHBsaWNhdGlvbi5HZXRMYXN0RXJyb3IoKQkNCgkNCglpZiBuRXJyb3Igfj0gMCB0aGVuDQoJcmV0dXJuIG5FcnJvcg0KCWVuZA0KCQ0KcmV0dXJuIDANCmVsc2UNCnJldHVybiAtMQ0KZW5kDQplbmQNCg0KDQoNCi0tW1sqKioqKioqPT09PT09PT0qKioqKioqLT4NCiAgICAgRm9sZGVyLkNyZWF0ZVJlY3Vyc2l2ZQ0KPC0qKioqKioqKio9PT09PT09PT0qKioqKioqXV0NCmZ1bmN0aW9uIEZvbGRlci5DcmVhdGVSZWN1cnNpdmUocEZvbGRlcikNCmxvY2FsIHRQYXRocyA9IHsNCglbMV0gPSBwRm9sZGVyLA0KfTsNCmxvY2FsIHNQYXRoID0gcEZvbGRlcjsNCmxvY2FsIG5Gb3VuZCA9IDA7DQoNCnJlcGVhdA0KbkZvdW5kID0gU3RyaW5nLlJldmVyc2VGaW5kKHNQYXRoLCAiXFwiLCBmYWxzZSk7DQoJDQoJaWYgbkZvdW5kIH49IC0xIHRoZW4NCglzUGF0aCA9IFN0cmluZy5MZWZ0KHNQYXRoLCBuRm91bmQgLSAxKTsJDQoJdGFibGUuaW5zZXJ0KHRQYXRocywgMSwgc1BhdGgpOw0KCWVuZA0KDQp1bnRpbCBuRm91bmQgPT0gLTENCg0KaWYgdFBhdGhzIHRoZW4NCg0KCWZvciBuSW5kZXgsIHBGb2xkZXIgaW4gcGFpcnModFBhdGhzKSBkbw0KCQkNCgkJaWYgbm90IEZvbGRlci5Eb2VzRXhpc3QocEZvbGRlcikgdGhlbg0KCQlGb2xkZXIuQ3JlYXRlKHBGb2xkZXIpOw0KCQllbmQNCgkJDQoJZW5kDQoNCmVuZA0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBGb2xkZXIuR2V0RW5kRm9sZGVyDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gRm9sZGVyLkdldEVuZEZvbGRlciguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywxKTsNCmxvY2FsIHNGb2xkZXIgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCmxvY2FsIGJXZWJGb3JtYXQgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMix7ImJvb2xlYW4iLCJuaWwifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIG5MZW5ndGggPSBTdHJpbmcuTGVuZ3RoKHNGb2xkZXIpOw0KbG9jYWwgc0RlbGltaXRlciA9ICJcXCI7DQoNCmlmIGJXZWJGb3JtYXQgdGhlbg0Kc0RlbGltaXRlciA9ICIvIjsNCmVuZA0KDQoNCmlmIFN0cmluZy5SaWdodChzRm9sZGVyLCAxKSA9PSBzRGVsaW1pdGVyIHRoZW4NCnNGb2xkZXIgPSBTdHJpbmcuTWlkKHNGb2xkZXIsIDEsIG5MZW5ndGggLSAxKTsNCmVuZA0KDQpsb2NhbCBuRm91bmQgPSBTdHJpbmcuUmV2ZXJzZUZpbmQoc0ZvbGRlciwgc0RlbGltaXRlciwgZmFsc2UpOw0KDQoJaWYgbkZvdW5kIH49IC0xIHRoZW4NCglyZXR1cm4gU3RyaW5nLlJpZ2h0KHNGb2xkZXIsIChTdHJpbmcuTGVuZ3RoKHNGb2xkZXIpIC0gbkZvdW5kKSk7DQoJZW5kDQoJDQpyZXR1cm4gIiINCg0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PQ0KLS0gRm9sZGVyLkdldFBhcmVudA0KLS09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIEZvbGRlci5HZXRQYXJlbnQoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzRm9sZGVyID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpsb2NhbCBiV2ViRm9ybWF0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDIseyJib29sZWFuIiwibmlsIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCBuTGVuZ3RoID0gU3RyaW5nLkxlbmd0aChzRm9sZGVyKTsNCmxvY2FsIHNEZWxpbWl0ZXIgPSAiXFwiOw0KDQppZiBiV2ViRm9ybWF0IHRoZW4NCnNEZWxpbWl0ZXIgPSAiLyI7DQplbmQNCg0KDQppZiBTdHJpbmcuUmlnaHQoc0ZvbGRlciwgMSkgPT0gc0RlbGltaXRlciB0aGVuDQpzRm9sZGVyID0gU3RyaW5nLk1pZChzRm9sZGVyLCAxLCBuTGVuZ3RoIC0gMSk7DQplbmQNCg0KbG9jYWwgc0VuZEZvbGRlciA9IFN0cmluZy5NaWQoc0ZvbGRlciwgU3RyaW5nLlJldmVyc2VGaW5kKHNGb2xkZXIsIHNEZWxpbWl0ZXIpICsgMSwgLTEpOw0KcmV0dXJuIFN0cmluZy5MZWZ0KHNGb2xkZXIsIFN0cmluZy5MZW5ndGgoc0ZvbGRlcikgLSBTdHJpbmcuTGVuZ3RoKHNFbmRGb2xkZXIpIC0gMSkNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT0NCi0tIEZvbGRlci5HZXRTaXplDQotLT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gRm9sZGVyLkdldFNpemUoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBwTWFpbkZvbGRlciA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCBuRm9sZGVyU2l6ZSA9IDA7DQoNCmlmIEZvbGRlci5Eb2VzRXhpc3QocE1haW5Gb2xkZXIpIHRoZW4NCmxvY2FsIHRGb2xkZXJzID0gRm9sZGVyLkZpbmQocE1haW5Gb2xkZXIsICIqIiwgdHJ1ZSwgbmlsKTsNCg0KCWlmIG5vdCB0Rm9sZGVycyB0aGVuDQoJdEZvbGRlcnMgPSB7fTsNCgllbmQNCg0KCXRGb2xkZXJzWyN0Rm9sZGVycyArIDFdID0gcE1haW5Gb2xkZXI7DQoJDQoJLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCglsb2NhbCBmdW5jdGlvbiBHZXRGaWxlc1NpemUocEZvbGRlcikNCglsb2NhbCBuRmlsZXNTaXplID0gMDsNCglsb2NhbCB0RmlsZXMgPSBGaWxlLkZpbmQocEZvbGRlciwgIiouKiIsIGZhbHNlLCBmYWxzZSwgbmlsLCBuaWwpOw0KCQ0KCWlmIHRGaWxlcyB0aGVuDQoJDQoJCWZvciBuSW5kZXgsIHBGaWxlIGluIHBhaXJzKHRGaWxlcykgZG8NCgkJbkZpbGVzU2l6ZSA9IG5GaWxlc1NpemUgKyBGaWxlLkdldFNpemUocEZpbGUpOw0KCQllbmQNCgkJDQoJZW5kDQoJDQoJcmV0dXJuIG5GaWxlc1NpemUNCgllbmQNCgktLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDQoJZm9yIG5JbmRleCwgcEZvbGRlciBpbiBwYWlycyh0Rm9sZGVycykgZG8NCgluRm9sZGVyU2l6ZSA9IG5Gb2xkZXJTaXplICsgR2V0RmlsZXNTaXplKHBGb2xkZXIpOw0KCWVuZA0KDQplbHNlDQoNCnJldHVybiAtMQ0KZW5kDQoNCnJldHVybiBuRm9sZGVyU2l6ZQ0KZW5kDQoNCg0KLS1bWw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIElOSUZpbGUuU2VjdGlvbkRvZXNFeGlzdA0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIElOSUZpbGUuU2VjdGlvbkRvZXNFeGlzdCguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywyKTsNCmxvY2FsIHNGaWxlID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpsb2NhbCBzU2VhcmNoU2VjdGlvbiA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywyLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCB0U2VjdGlvbnMgPSBJTklGaWxlLkdldFNlY3Rpb25OYW1lcyhzRmlsZSk7DQoJDQoJaWYgdFNlY3Rpb25zIHRoZW4NCgkJDQoJCWZvciBuSW5kZXgsIHNTZWN0aW9uIGluIHBhaXJzKHRTZWN0aW9ucykgZG8NCgkJCQ0KCQkJaWYgc1NlY3Rpb24gPT0gc1NlYXJjaFNlY3Rpb24gdGhlbg0KCQkJcmV0dXJuIHRydWUNCgkJCWVuZA0KCQkJDQoJCWVuZA0KCQkNCgllbmQNCg0KcmV0dXJuIGZhbHNlDQplbmQNCl1dDQoNCg0KLS1bWw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIExpc3RCb3guRGVsZXRlU2VsZWN0aW9uDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTGlzdEJveC5EZWxldGVTZWxlY3Rpb24oLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzT2JqZWN0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHRTZWxlY3RlZCA9IExpc3RCb3guR2V0U2VsZWN0ZWQoc09iamVjdCk7DQoNCmlmIHRTZWxlY3RlZCB0aGVuDQoJDQoJZm9yIG5JbmRleCwgbklEIGluIHBhaXJzKHRTZWxlY3RlZCkgZG8NCglMaXN0Qm94LkRlbGV0ZUl0ZW0oc09iamVjdCwgbklEIC0gbkluZGV4ICsgMSk7DQoJZW5kDQoJDQoJbG9jYWwgbk5ld1NlbGVjdGlvbiA9IHRTZWxlY3RlZFsxXSAtIDE7DQoJaWYgbk5ld1NlbGVjdGlvbiA8IDEgdGhlbg0KCW5OZXdTZWxlY3Rpb24gPSAxOw0KCWVuZA0KCQ0KCUxpc3RCb3guU2VsZWN0SXRlbShzT2JqZWN0LCBuTmV3U2VsZWN0aW9uKTsNCgkNCmVuZA0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIExpc3RCb3guR2V0U2VsZWN0ZWRJdGVtQ2hlY2sNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIExpc3RCb3guR2V0U2VsZWN0ZWRJdGVtQ2hlY2soLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzT2JqZWN0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHRTZWxlY3RlZCA9IExpc3RCb3guR2V0U2VsZWN0ZWQoc09iamVjdCk7DQoNCmlmIHRTZWxlY3RlZCB0aGVuDQpyZXR1cm4gTGlzdEJveC5HZXRJdGVtQ2hlY2soc09iamVjdCwgdFNlbGVjdGVkWzFdKTsNCmVsc2UNCnJldHVybiBuaWwNCmVuZA0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIExpc3RCb3guR2V0U2VsZWN0ZWRJdGVtRGF0YQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gTGlzdEJveC5HZXRTZWxlY3RlZEl0ZW1EYXRhKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc09iamVjdCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCB0U2VsZWN0ZWQgPSBMaXN0Qm94LkdldFNlbGVjdGVkKHNPYmplY3QpOw0KDQppZiB0U2VsZWN0ZWQgdGhlbg0KcmV0dXJuIExpc3RCb3guR2V0SXRlbURhdGEoc09iamVjdCwgdFNlbGVjdGVkWzFdKTsNCmVsc2UNCnJldHVybiAiIg0KZW5kDQoNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTGlzdEJveC5HZXRTZWxlY3RlZEl0ZW1UZXh0DQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBMaXN0Qm94LkdldFNlbGVjdGVkSXRlbVRleHQoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzT2JqZWN0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHRTZWxlY3RlZCA9IExpc3RCb3guR2V0U2VsZWN0ZWQoc09iamVjdCk7DQoNCmlmIHRTZWxlY3RlZCB0aGVuDQpyZXR1cm4gTGlzdEJveC5HZXRJdGVtVGV4dChzT2JqZWN0LCB0U2VsZWN0ZWRbMV0pOw0KZWxzZQ0KcmV0dXJuICIiDQplbmQNCg0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTGlzdEJveC5HZXRTZWxlY3Rpb25DaGVjaw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIExpc3RCb3guR2V0U2VsZWN0aW9uQ2hlY2soLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzT2JqZWN0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHRTZWxlY3RlZCA9IExpc3RCb3guR2V0U2VsZWN0ZWQoc09iamVjdCk7DQoNCmlmIHRTZWxlY3RlZCB0aGVuDQpsb2NhbCB0SXRlbXMgPSB7fTsNCgkNCglmb3IgbkluZGV4LCBuSUQgaW4gcGFpcnModFNlbGVjdGVkKSBkbw0KCXRJdGVtc1tuSW5kZXhdID0gTGlzdEJveC5HZXRJdGVtQ2hlY2soc09iamVjdCwgbklEKTsNCgllbmQNCg0KcmV0dXJuIHRJdGVtcw0KZW5kDQoNCmVuZA0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIExpc3RCb3guR2V0U2VsZWN0aW9uRGF0YQ0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIExpc3RCb3guR2V0U2VsZWN0aW9uRGF0YSguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywxKTsNCmxvY2FsIHNPYmplY3QgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgdFNlbGVjdGVkID0gTGlzdEJveC5HZXRTZWxlY3RlZChzT2JqZWN0KTsNCg0KaWYgdFNlbGVjdGVkIHRoZW4NCmxvY2FsIHRJdGVtcyA9IHt9Ow0KCQ0KCWZvciBuSW5kZXgsIG5JRCBpbiBwYWlycyh0U2VsZWN0ZWQpIGRvDQoJdEl0ZW1zW25JbmRleF0gPSBMaXN0Qm94LkdldEl0ZW1EYXRhKHNPYmplY3QsIG5JRCk7DQoJZW5kDQoNCnJldHVybiB0SXRlbXMNCmVuZA0KDQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBMaXN0Qm94LkdldFNlbGVjdGlvblRleHQNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBMaXN0Qm94LkdldFNlbGVjdGlvblRleHQoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzT2JqZWN0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHRTZWxlY3RlZCA9IExpc3RCb3guR2V0U2VsZWN0ZWQoc09iamVjdCk7DQoNCmlmIHRTZWxlY3RlZCB0aGVuDQpsb2NhbCB0SXRlbXMgPSB7fTsNCgkNCglmb3IgbkluZGV4LCBuSUQgaW4gcGFpcnModFNlbGVjdGVkKSBkbw0KCXRJdGVtc1tuSW5kZXhdID0gTGlzdEJveC5HZXRJdGVtVGV4dChzT2JqZWN0LCBuSUQpOw0KCWVuZA0KDQpyZXR1cm4gdEl0ZW1zDQplbmQNCg0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTGlzdEJveC5Nb3ZlU2VsZWN0aW9uRG93bg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIExpc3RCb3guTW92ZVNlbGVjdGlvbkRvd24oLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzT2JqZWN0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHRTZWxlY3RlZCA9IExpc3RCb3guR2V0U2VsZWN0ZWQoc09iamVjdCk7DQoNCmlmIHRTZWxlY3RlZCB0aGVuDQpsb2NhbCB0SXRlbXMgPSB7fTsNCmxvY2FsIG5Ub3RhbFNlbGVjdGlvbiA9IFRhYmxlLkNvdW50KHRTZWxlY3RlZCk7DQpsb2NhbCBuSnVua0lEID0gdFNlbGVjdGVkWzFdOw0KDQoJaWYgdFNlbGVjdGVkW25Ub3RhbFNlbGVjdGlvbl0gfj0gTGlzdEJveC5HZXRDb3VudChzT2JqZWN0KSB0aGVuDQoJCQkNCgkJZm9yIG5JbmRleCwgbklEIGluIHBhaXJzKHRTZWxlY3RlZCkgZG8NCgkJDQoJCXRJdGVtc1tUYWJsZS5Db3VudCh0SXRlbXMpICsgMV0gPSB7DQoJCUlEPW5JRCArIDEsDQoJCVRleHQ9TGlzdEJveC5HZXRJdGVtVGV4dChzT2JqZWN0LCBuSUQpLA0KCQlEYXRhPUxpc3RCb3guR2V0SXRlbURhdGEoc09iamVjdCwgbklEKSwNCgkJQ2hlY2s9TGlzdEJveC5HZXRJdGVtQ2hlY2soc09iamVjdCwgbklEKSwNCgkJfTsNCgkJDQoJCWVuZAkNCgkNCglsb2NhbCBuRmlyc3RJRCA9IHRTZWxlY3RlZFtuVG90YWxTZWxlY3Rpb25dICsgMTsgDQoJCQkNCgl0SXRlbXNbVGFibGUuQ291bnQodEl0ZW1zKSArIDFdID0gew0KCUlEPXRTZWxlY3RlZFsxXSwNCglUZXh0PUxpc3RCb3guR2V0SXRlbVRleHQoc09iamVjdCwgbkZpcnN0SUQpLA0KCURhdGE9TGlzdEJveC5HZXRJdGVtRGF0YShzT2JqZWN0LCBuRmlyc3RJRCksDQoJQ2hlY2s9TGlzdEJveC5HZXRJdGVtQ2hlY2soc09iamVjdCwgbkZpcnN0SUQpLA0KCX07DQoJCQ0KCQlmb3IgbkluZGV4LCB0QXR0IGluIHBhaXJzKHRJdGVtcykgZG8NCgkJTGlzdEJveC5TZXRJdGVtVGV4dChzT2JqZWN0LCB0QXR0LklELCB0QXR0LlRleHQpOw0KCQlMaXN0Qm94LlNldEl0ZW1EYXRhKHNPYmplY3QsIHRBdHQuSUQsIHRBdHQuRGF0YSk7DQoJCUxpc3RCb3guU2V0SXRlbUNoZWNrKHNPYmplY3QsIHRBdHQuSUQsIHRBdHQuQ2hlY2spOw0KCQlMaXN0Qm94LlNlbGVjdEl0ZW0oc09iamVjdCwgdEF0dC5JRCk7DQoJCWVuZA0KCQkNCgkJTGlzdEJveC5EZXNlbGVjdEl0ZW0oc09iamVjdCwgbkp1bmtJRCk7DQoJCQ0KCWVuZA0KDQplbmQNCg0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gTGlzdEJveC5Nb3ZlU2VsZWN0aW9uVXANCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBMaXN0Qm94Lk1vdmVTZWxlY3Rpb25VcCguLi4pDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywxKTsNCmxvY2FsIHNPYmplY3QgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgdFNlbGVjdGVkID0gTGlzdEJveC5HZXRTZWxlY3RlZChzT2JqZWN0KTsNCg0KaWYgdFNlbGVjdGVkIHRoZW4NCmxvY2FsIHRJdGVtcyA9IHt9Ow0KDQoJaWYgdFNlbGVjdGVkWzFdIH49IDEgdGhlbg0KCQkJDQoJCWZvciBuSW5kZXgsIG5JRCBpbiBwYWlycyh0U2VsZWN0ZWQpIGRvDQoJCQ0KCQl0SXRlbXNbVGFibGUuQ291bnQodEl0ZW1zKSArIDFdID0gew0KCQlJRD1uSUQgLSAxLA0KCQlUZXh0PUxpc3RCb3guR2V0SXRlbVRleHQoc09iamVjdCwgbklEKSwNCgkJRGF0YT1MaXN0Qm94LkdldEl0ZW1EYXRhKHNPYmplY3QsIG5JRCksDQoJCUNoZWNrPUxpc3RCb3guR2V0SXRlbUNoZWNrKHNPYmplY3QsIG5JRCksDQoJCX07DQoJCQ0KCQllbmQJDQoJDQoJbG9jYWwgbkxhc3RJRCA9IHRTZWxlY3RlZFsxXSAtIDE7IA0KCQkJDQoJdEl0ZW1zW1RhYmxlLkNvdW50KHRJdGVtcykgKyAxXSA9IHsNCglJRD10U2VsZWN0ZWRbVGFibGUuQ291bnQodFNlbGVjdGVkKV0sDQoJVGV4dD1MaXN0Qm94LkdldEl0ZW1UZXh0KHNPYmplY3QsIG5MYXN0SUQpLA0KCURhdGE9TGlzdEJveC5HZXRJdGVtRGF0YShzT2JqZWN0LCBuTGFzdElEKSwNCglDaGVjaz1MaXN0Qm94LkdldEl0ZW1DaGVjayhzT2JqZWN0LCBuTGFzdElEKSwNCgl9Ow0KCQkNCgkJbG9jYWwgbkp1bmtJRCA9IDA7DQoJCQ0KCQlmb3IgbkluZGV4LCB0QXR0IGluIHBhaXJzKHRJdGVtcykgZG8NCgkJTGlzdEJveC5TZXRJdGVtVGV4dChzT2JqZWN0LCB0QXR0LklELCB0QXR0LlRleHQpOw0KCQlMaXN0Qm94LlNldEl0ZW1EYXRhKHNPYmplY3QsIHRBdHQuSUQsIHRBdHQuRGF0YSk7DQoJCUxpc3RCb3guU2V0SXRlbUNoZWNrKHNPYmplY3QsIHRBdHQuSUQsIHRBdHQuQ2hlY2spOw0KCQlMaXN0Qm94LlNlbGVjdEl0ZW0oc09iamVjdCwgdEF0dC5JRCk7DQoJCW5KdW5rSUQgPSB0QXR0LklEOw0KCQllbmQNCgkJDQoJCUxpc3RCb3guRGVzZWxlY3RJdGVtKHNPYmplY3QsIG5KdW5rSUQpOw0KCQkJCQkJCQ0KCWVuZA0KDQplbmQNCg0KZW5kDQoNCl1dDQotLVtbDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBSaWNoVGV4dC5TZXRJbml0aWFsVGV4dFNpemUNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIFJpY2hUZXh0LlNldEluaXRpYWxUZXh0U2l6ZShzUlRGLCBuU2l6ZSkNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDIpOw0KLS1sb2NhbCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpSaWNoVGV4dC5TZXRTZWxlY3Rpb24oc1JURiwgMSwgLTEpOw0KUmljaFRleHQuU2V0U2VsZWN0aW9uRm9ybWF0KHNSVEYsIHtIZWlnaHQ9KG5TaXplICogMjApfSwgZmFsc2UpOw0KUmljaFRleHQuU2V0U2VsZWN0aW9uKHNSVEYsIDAsIDApOw0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBSaWNoVGV4dC5TZXRJbml0aWFsVGV4dENvbG9yDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBSaWNoVGV4dC5TZXRJbml0aWFsVGV4dENvbG9yKHNSVEYsIG5Db2xvcikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDIpOw0KLS1sb2NhbCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywxLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpSaWNoVGV4dC5TZXRTZWxlY3Rpb24oc1JURiwgMSwgLTEpOw0KUmljaFRleHQuU2V0U2VsZWN0aW9uRm9ybWF0KHNSVEYsIHtUZXh0Q29sb3I9bkNvbG9yfSwgZmFsc2UpOw0KUmljaFRleHQuU2V0U2VsZWN0aW9uKHNSVEYsIDAsIDApOw0KZW5kDQoNCl1dDQoNCi0tW1sNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBGT1MuUlRfU2V0SW5pdGlhbEFsaWdubWVudA0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIEZPUy5SVF9TZXRJbml0aWFsQWxpZ25tZW50KHNSVEYsIG5BbGlnbikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDIpOw0KbG9jYWwgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KUmljaFRleHQuU2V0U2VsZWN0aW9uKHNSVEYsIDEsIC0xKTsNClJpY2hUZXh0LlNldFBhcmFncmFwaEZvcm1hdChzUlRGLCB7QWxpZ25tZW50PW5BbGlnbn0pOw0KUmljaFRleHQuU2V0U2VsZWN0aW9uKHNSVEYsIDAsIDApOw0KZW5kDQpdXQ0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIFN0cmluZy5DYXBhdGFsaXplDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gU3RyaW5nLkNhcGF0YWxpemUoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBzSW5wdXQgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KaWYgU3RyaW5nLlJlcGxhY2Uoc0lucHV0LCAiICIsICIiLCBmYWxzZSkgfj0gIiIgdGhlbg0KbG9jYWwgc0ZpcnN0TGV0dGVyID0gU3RyaW5nLlVwcGVyKFN0cmluZy5MZWZ0KHNJbnB1dCwgMSkpOw0KbG9jYWwgc1JpZ2h0U2lkZSA9IFN0cmluZy5SaWdodChzSW5wdXQsIChTdHJpbmcuTGVuZ3RoKHNJbnB1dCkgLSAxKSk7DQoNCnJldHVybiBTdHJpbmcuQ29uY2F0KHNGaXJzdExldHRlciwgc1JpZ2h0U2lkZSk7DQoNCmVsc2UNCg0KcmV0dXJuICIiDQoNCmVuZA0KZW5kDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PXwNCi0tIFN0cmluZy5OdW1iZXJUb1dvcmRzICAgICAgICAgICAgICAgICAgIHwNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PXwNCmZ1bmN0aW9uIFN0cmluZy5OdW1iZXJUb1dvcmRzKC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLCAzKTsNCmxvY2FsIHNJbml0aWFsTnVtZXJpY0lucHV0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLCAxLCB7Im51bWJlciJ9KTsgLS1JIGtub3csIHRoaXMgaXMgc3VwcG9zZWQgdG8gYmUgbkluaXRpYWxOdW1lcmljSW5wdXQgbm90IHNJbml0aWFsTnVtZXJpY0lucHV0Li4ub29vcHMNCmxvY2FsIGJVc2VDb21tYXMgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsIDIsIHsiYm9vbGVhbiJ9KTsNCmxvY2FsIGJJc01vbmV0YXJ5ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLCAzLCB7ImJvb2xlYW4ifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQoNCmxvY2FsIHRBRk9uZXMgPSB7Ik9uZSIsIlR3byIsIlRocmVlIiwiRm91ciIsIkZpdmUiLCJTaXgiLCJTZXZlbiIsIkVpZ2h0IiwiTmluZSIsIiJ9Ow0KDQpsb2NhbCB0QUZUZW5zID0ge307DQp0QUZUZW5zWzFdID0gIiI7DQp0QUZUZW5zWzJdID0gIlR3ZW50eSI7DQp0QUZUZW5zWzNdID0gIlRoaXJ0eSI7DQp0QUZUZW5zWzRdID0gIkZvdXJ0eSI7DQp0QUZUZW5zWzVdID0gIkZpZnR5IjsNCnRBRlRlbnNbNl0gPSAiU2l4dHkiOw0KdEFGVGVuc1s3XSA9ICJTZXZlbnR5IjsNCnRBRlRlbnNbOF0gPSAiRWlnaHR5IjsNCnRBRlRlbnNbOV0gPSAiTmluZXR5IjsNCnRBRlRlbnNbMTBdID0gIiI7DQoNCmxvY2FsIHRBRlRlZW5zID0ge307DQp0QUZUZWVuc1sxXSA9ICJFbGV2ZW4iOw0KdEFGVGVlbnNbMl0gPSAiVHdlbHZlIjsNCnRBRlRlZW5zWzNdID0gIlRoaXJ0ZWVuIjsNCnRBRlRlZW5zWzRdID0gIkZvdXJ0ZWVuIjsNCnRBRlRlZW5zWzVdID0gIkZpZnRlZW4iOw0KdEFGVGVlbnNbNl0gPSAiU2l4dGVlbiI7DQp0QUZUZWVuc1s3XSA9ICJTZXZlbnRlZW4iOw0KdEFGVGVlbnNbOF0gPSAiRWlnaHRlZW4iOw0KdEFGVGVlbnNbOV0gPSAiTmluZXRlZW4iOw0KdEFGVGVlbnNbMTBdID0gIlRlbiI7DQoNCgktLT09PT09PT09PT09PT09PT09PT09PT0+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+DQoJZnVuY3Rpb24gU29ydFRyaWFkKHNOdW1lcmljSW5wdXQsIHNQbGFjZVR5cGUsIGJTcGFjZVBsYWNlVHlwZSwgYklzTGFzdEJsb2NrLCBiRGVsaW1pdEFsbCkgIC0tW1s+Pg0KCTw8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPj4NCgk8PCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4+DQoJPDw8PDw8PDw8PDw8PDw8PDw8PDw8PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09LS1dXQ0KCWlmIHNOdW1lcmljSW5wdXQgPT0gIiIgb3Igc051bWVyaWNJbnB1dCA9PSBuaWwgdGhlbg0KCUFwcGxpY2F0aW9uLkV4aXRTY3JpcHQoKTsNCgllbmQNCgkNCglpZiBiU3BhY2VQbGFjZVR5cGUgPT0gdHJ1ZSB0aGVuDQoJc1BsYWNlU3BhY2VyID0gIiAiOw0KCWVsc2VpZiBiU3BhY2VQbGFjZVR5cGUgPT0gZmFsc2UgdGhlbg0KCXNQbGFjZVNwYWNlciA9ICIiOw0KCWVsc2UNCglzUGxhY2VTcGFjZXIgPSAiICI7DQoJZW5kDQoJDQoJLS1jb3VudCB0aGUgbnVtYmVycyBvZiBudW1iZXJzIDopDQoJblRvdGFsTnVtYmVycyA9IFN0cmluZy5MZW5ndGgoc051bWVyaWNJbnB1dCk7DQoJDQoJLS1jb252ZXJ0IHRoZSBzdHJpbmcgdG8gYSBudW1iZXINCgluTnVtZXJpY0lucHV0ID0gU3RyaW5nLlRvTnVtYmVyKHNOdW1lcmljSW5wdXQpOw0KCQ0KCWlmIG5Ub3RhbE51bWJlcnMgPT0gMyB0aGVuIC0taWYgdGhlcmUgYXJlIHRocmVlIG51bWJlcnMNCgkNCgktLXRoaXMgY2hlY2tzIGZvciBhbiBhbGwtemVybyBibG9jayBhbmQgcmVmdXNlcyBkZWxpbWl0aW5nIGlmIGZvdW5kDQoJblN0cmlrZXMgPSAwOw0KCQ0KCS0taXNsb2F0ZSB0aGUgZmlyc3QgbnVtYmVyDQoJc0ZpcnN0TnVtYmVyID0gU3RyaW5nLkxlZnQoc051bWVyaWNJbnB1dCwgMSk7DQoJLS1jb252ZXJ0IGl0IHRvIGEgbnVtYmVyDQoJbkZpcnN0TnVtYmVyID0gU3RyaW5nLlRvTnVtYmVyKHNGaXJzdE51bWJlcik7DQoJDQoJCWlmIG5GaXJzdE51bWJlciA9PSAwIHRoZW4NCgkJbkZpcnN0TnVtYmVyID0gMTA7DQoJCXNBRkZpcnN0U3BhY2VyID0gIiI7DQoJCXNPbmVIdW5kcmVkID0gIiI7DQoJCW5TdHJpa2VzID0gblN0cmlrZXMgKyAxOw0KCQllbHNlDQoJCXNBRkZpcnN0U3BhY2VyID0gIiAiOw0KCQlzT25lSHVuZHJlZCA9ICJIdW5kcmVkIjsNCgkJZW5kDQoJCQ0KCS0taXNsb2F0ZSB0aGUgc2Vjb25kIG51bWJlcg0KCXNTZWNvbmROdW1iZXIgPSBTdHJpbmcuTWlkKHNOdW1lcmljSW5wdXQsIDIsIDEpOw0KCS0tY29udmVydCBpdCB0byBhIG51bWJlcg0KCW5TZWNvbmROdW1iZXIgPSBTdHJpbmcuVG9OdW1iZXIoc1NlY29uZE51bWJlcik7DQoJDQoJCWlmIG5TZWNvbmROdW1iZXIgPT0gMCB0aGVuDQoJCW5TZWNvbmROdW1iZXIgPSAxMDsNCgkJc01pZEl0ZW0gPSAiU0tJUCI7DQoJCXNBRlNwYWNlciA9ICIiOw0KCQluU3RyaWtlcyA9IG5TdHJpa2VzICsgMTsNCgkJZWxzZWlmIG5TZWNvbmROdW1iZXIgPT0gMSB0aGVuDQoJCWJUaGlyZE51bWJlcklzVGVlbiA9IHRydWU7DQoJCXNNaWRJdGVtID0gIlNLSVAiOw0KCQlzQUZTcGFjZXIgPSIiOw0KCQllbHNlDQoJCXNNaWRJdGVtID0gIiI7DQoJCXNBRlNwYWNlciA9ICIgIjsNCgkJZW5kDQoJDQoJCWlmIHNNaWRJdGVtIH49ICJTS0lQIiB0aGVuDQoJCXNTZWNvbmROdW1iZXIgPSBTdHJpbmcuTWlkKHNOdW1lcmljSW5wdXQsIDIsIDEpOw0KCQluU2Vjb25kTnVtYmVyID0gU3RyaW5nLlRvTnVtYmVyKHNTZWNvbmROdW1iZXIpOw0KCQllbmQNCgkNCgktLWlzbG9hdGUgdGhlIHRoaXJkIG51bWJlcg0KCXNUaGlyZE51bWJlciA9IFN0cmluZy5NaWQoc051bWVyaWNJbnB1dCwgMywgMSk7DQoJLS1jb252ZXJ0IGl0IHRvIGEgbnVtYmVyDQoJblRoaXJkTnVtYmVyID0gU3RyaW5nLlRvTnVtYmVyKHNUaGlyZE51bWJlcik7DQoJDQoJCWlmIG5UaGlyZE51bWJlciA9PSAwIHRoZW4NCgkJblRoaXJkTnVtYmVyID0gMTA7DQoJCW5TdHJpa2VzID0gblN0cmlrZXMgKyAxOw0KCQllbmQNCgkJDQoJCWlmIG5TdHJpa2VzID09IDMgdGhlbg0KCQlzUGxhY2VTcGFjZXIgPSAiIjsNCgkJc1BsYWNlVHlwZSA9ICIiOw0KCQllbmQNCgkJDQoJCWlmIGJUaGlyZE51bWJlcklzVGVlbiA9PSB0cnVlIHRoZW4NCgkJc1dvcmRPdXRwdXQgPSB0QUZPbmVzW25GaXJzdE51bWJlcl0uLnNBRkZpcnN0U3BhY2VyLi5zT25lSHVuZHJlZC4uc0FGRmlyc3RTcGFjZXIuLnRBRlRlbnNbblNlY29uZE51bWJlcl0uLnNBRlNwYWNlci4udEFGVGVlbnNbblRoaXJkTnVtYmVyXS4uc1BsYWNlU3BhY2VyLi5zUGxhY2VUeXBlOw0KCQllbHNlDQoJCXNXb3JkT3V0cHV0ID0gdEFGT25lc1tuRmlyc3ROdW1iZXJdLi5zQUZGaXJzdFNwYWNlci4uc09uZUh1bmRyZWQuLnNBRkZpcnN0U3BhY2VyLi50QUZUZW5zW25TZWNvbmROdW1iZXJdLi5zQUZTcGFjZXIuLnRBRk9uZXNbblRoaXJkTnVtYmVyXS4uc1BsYWNlU3BhY2VyLi5zUGxhY2VUeXBlOw0KCQllbmQNCgkJDQoJCWJUaGlyZE51bWJlcklzVGVlbiA9IG5pbDsNCgkJDQoJZWxzZWlmIG5Ub3RhbE51bWJlcnMgPT0gMiB0aGVuDQoJDQoJLS1pc2xvYXRlIHRoZSBzZWNvbmQgbnVtYmVyDQoJc1NlY29uZE51bWJlciA9IFN0cmluZy5NaWQoc051bWVyaWNJbnB1dCwgMSwgMSk7DQoJLS1jb252ZXJ0IGl0IHRvIGEgbnVtYmVyDQoJblNlY29uZE51bWJlciA9IFN0cmluZy5Ub051bWJlcihzU2Vjb25kTnVtYmVyKTsNCgkNCgkJaWYgblNlY29uZE51bWJlciA9PSAwIHRoZW4NCgkJblNlY29uZE51bWJlciA9IDEwOw0KCQlzTWlkSXRlbSA9ICJTS0lQIjsNCgkJc0FGU3BhY2VyID0gIiI7DQoJCWVsc2VpZiBuU2Vjb25kTnVtYmVyID09IDEgdGhlbg0KCQliVGhpcmROdW1iZXJJc1RlZW4gPSB0cnVlOw0KCQlzTWlkSXRlbSA9ICJTS0lQIjsNCgkJc0FGU3BhY2VyID0iIjsNCgkJZWxzZQ0KCQlzTWlkSXRlbSA9ICIiOw0KCQlzQUZTcGFjZXIgPSAiICI7DQoJCWVuZA0KCQ0KCQlpZiBzTWlkSXRlbSB+PSAiU0tJUCIgdGhlbg0KCQlzU2Vjb25kTnVtYmVyID0gU3RyaW5nLk1pZChzTnVtZXJpY0lucHV0LCAxLCAxKTsNCgkJblNlY29uZE51bWJlciA9IFN0cmluZy5Ub051bWJlcihzU2Vjb25kTnVtYmVyKTsNCgkJZW5kDQoJDQoJLS1pc2xvYXRlIHRoZSB0aGlyZCBudW1iZXINCglzVGhpcmROdW1iZXIgPSBTdHJpbmcuTWlkKHNOdW1lcmljSW5wdXQsIDIsIDEpOw0KCS0tY29udmVydCBpdCB0byBhIG51bWJlcg0KCW5UaGlyZE51bWJlciA9IFN0cmluZy5Ub051bWJlcihzVGhpcmROdW1iZXIpOw0KCQ0KCQlpZiBuVGhpcmROdW1iZXIgPT0gMCB0aGVuDQoJCW5UaGlyZE51bWJlciA9IDEwOw0KCQllbmQNCgkJDQoJCWlmIGJUaGlyZE51bWJlcklzVGVlbiA9PSB0cnVlIHRoZW4NCgkJc1dvcmRPdXRwdXQgPSB0QUZUZW5zW25TZWNvbmROdW1iZXJdLi5zQUZTcGFjZXIuLnRBRlRlZW5zW25UaGlyZE51bWJlcl0uLnNQbGFjZVNwYWNlci4uc1BsYWNlVHlwZTsNCgkJZWxzZQ0KCQlzV29yZE91dHB1dCA9IHRBRlRlbnNbblNlY29uZE51bWJlcl0uLnNBRlNwYWNlci4udEFGT25lc1tuVGhpcmROdW1iZXJdLi5zUGxhY2VTcGFjZXIuLnNQbGFjZVR5cGU7DQoJCWVuZA0KCQkNCgkJYlRoaXJkTnVtYmVySXNUZWVuID0gbmlsOw0KCQ0KCWVsc2VpZiBuVG90YWxOdW1iZXJzID09IDEgdGhlbg0KCQ0KCS0taXNsb2F0ZSB0aGUgdGhpcmQgbnVtYmVyDQoJc1RoaXJkTnVtYmVyID0gU3RyaW5nLk1pZChzTnVtZXJpY0lucHV0LCAxLCAxKTsNCgktLWNvbnZlcnQgaXQgdG8gYSBudW1iZXINCgluVGhpcmROdW1iZXIgPSBTdHJpbmcuVG9OdW1iZXIoc1RoaXJkTnVtYmVyKTsNCgkNCgkJaWYgblRoaXJkTnVtYmVyID09IDAgdGhlbg0KCQlzV29yZE91dHB1dCA9ICIiOw0KCQllbHNlDQoJCXNXb3JkT3V0cHV0ID0gdEFGT25lc1tuVGhpcmROdW1iZXJdLi5zUGxhY2VTcGFjZXIuLnNQbGFjZVR5cGU7DQoJCWVuZA0KCQkJDQoJZW5kDQoJDQoJaWYgblN0cmlrZXMgPT0gMyBvciBiSXNMYXN0QmxvY2sgPT0gdHJ1ZSBvciBiRGVsaW1pdEFsbCA9PSBmYWxzZSB0aGVuDQoJYkRlbGltaXQgPSBmYWxzZTsNCgllbHNlDQoJYkRlbGltaXQgPSB0cnVlOw0KCWVuZA0KCQ0KCXRSZXR1cm5WYWx1ZXMgPSB7fTsNCgl0UmV0dXJuVmFsdWVzWzFdID0gc1dvcmRPdXRwdXQ7DQoJdFJldHVyblZhbHVlc1syXSA9IGJEZWxpbWl0Ow0KCQ0KCXJldHVybiB0UmV0dXJuVmFsdWVzDQoJLS0+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4NCgllbmQtLXx8fHx8fHx8fHx8fHxFTkQgRlVOQ1RJT058fHx8fHx8fHx8fHx8fHx8fA0KCS0tPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+DQoNCmxvY2FsIHROdW1iZXJQbGFjZXMgPSB7fTsNCnROdW1iZXJQbGFjZXNbMV0gPSAiIjsNCnROdW1iZXJQbGFjZXNbMl0gPSAiVGhvdXNhbmQiOw0KdE51bWJlclBsYWNlc1szXSA9ICJNaWxsaW9uIjsNCnROdW1iZXJQbGFjZXNbNF0gPSAiQmlsbGlvbiI7DQp0TnVtYmVyUGxhY2VzWzVdID0gIlRyaWxsaW9uIjsNCnROdW1iZXJQbGFjZXNbNl0gPSAiUXVhZHJpbGxpb24iOw0KdE51bWJlclBsYWNlc1s3XSA9ICJRdWludGlsbGlvbiI7DQp0TnVtYmVyUGxhY2VzWzhdID0gIlNleHRpbGxpb24iOw0KdE51bWJlclBsYWNlc1s5XSA9ICJTZXB0aWxsaW9uIjsNCnROdW1iZXJQbGFjZXNbMTBdID0gIk9jdGlsbGlvbiI7DQp0TnVtYmVyUGxhY2VzWzExXSA9ICJOb25pbGxpb24iOw0KdE51bWJlclBsYWNlc1sxMl0gPSAiRGVjaWxsaW9uIjsNCnROdW1iZXJQbGFjZXNbMTNdID0gIlVuZGVjaWxsaW9uIjsNCnROdW1iZXJQbGFjZXNbMTRdID0gIkR1b2RlY2lsbGlvbiI7DQp0TnVtYmVyUGxhY2VzWzE1XSA9ICJUcmVkZWNpbGxpb24iOw0KdE51bWJlclBsYWNlc1sxNl0gPSAiUXVhdHR1b3JkZWNpbGxpb24iOw0KdE51bWJlclBsYWNlc1sxN10gPSAiUXVpbmRlY2lsbGlvbiI7DQp0TnVtYmVyUGxhY2VzWzE4XSA9ICJTZXhkZWNpbGxpb24iOw0KdE51bWJlclBsYWNlc1sxOV0gPSAiU2VwdGVuZGVjaWxsaW9uIjsNCnROdW1iZXJQbGFjZXNbMjBdID0gIk9jdG9kZWNpbGxpb24iOw0KdE51bWJlclBsYWNlc1syMV0gPSAiTm92ZW1kZWNpbGxpb24iOw0KdE51bWJlclBsYWNlc1syMl0gPSAiVmlnaW50aWxsaW9uIjsNCnROdW1iZXJQbGFjZXNbMjNdID0gIkNlbnRpbGxpb24iOw0KDQotLWVsaW1pbmF0ZSBhbnkgY29tbWFzIHRoZSB1c2VyIG1heSBoYXZlIHR5cGVkDQpzSW5pdGlhbE51bWVyaWNJbnB1dCA9IFN0cmluZy5SZXBsYWNlKHNJbml0aWFsTnVtZXJpY0lucHV0LCAiLCIsICIiLCBmYWxzZSk7DQoNCi0tbG9vayBmb3IgYSBuZWdhdGl2ZSBzaWduDQpuTmVnYXRpdmVTaWduID0gU3RyaW5nLkZpbmQoc0luaXRpYWxOdW1lcmljSW5wdXQsICItIiwgMSwgZmFsc2UpOw0KaWYgbk5lZ2F0aXZlU2lnbiB+PSAtMSB0aGVuDQpzSW5pdGlhbE51bWVyaWNJbnB1dCA9IFN0cmluZy5SZXBsYWNlKHNJbml0aWFsTnVtZXJpY0lucHV0LCAiLSIsICIiLCBmYWxzZSk7DQpzTmVnYXRpdmVTaWduID0gIk5lZ2F0aXZlICI7DQplbHNlDQpzTmVnYXRpdmVTaWduID0gIiI7DQplbmQNCg0KLS1jaGVjayBmb3IgYSBkZWNpbWFsIHBsYWNlDQpuRGVjaW1hbFBsYWNlID0gU3RyaW5nLkZpbmQoc0luaXRpYWxOdW1lcmljSW5wdXQsICIuIiwgMSwgZmFsc2UpOw0KDQppZiBuRGVjaW1hbFBsYWNlIH49IC0xIHRoZW4gLS1pZiB0aGVyZSBpcyBhIGRlY2ltYWwgcGxhY2UgZm91bmQNCnNMZWZ0U2lkZSA9IFN0cmluZy5MZWZ0KHNJbml0aWFsTnVtZXJpY0lucHV0LCBTdHJpbmcuTGVuZ3RoKHNJbml0aWFsTnVtZXJpY0lucHV0KSAtIChTdHJpbmcuTGVuZ3RoKHNJbml0aWFsTnVtZXJpY0lucHV0KSAtIG5EZWNpbWFsUGxhY2UpIC0gMSk7DQpzUmlnaHRTaWRlID0gU3RyaW5nLlJpZ2h0KHNJbml0aWFsTnVtZXJpY0lucHV0LCAoU3RyaW5nLkxlbmd0aChzSW5pdGlhbE51bWVyaWNJbnB1dCkgLSBuRGVjaW1hbFBsYWNlKSk7DQoJLS1tYWtlIHN1cmUgdGhhdCB3ZSBtdWx0aXBseSBieSB0ZW4gYW55IG51bWJlciB0aGF0IGlzIHNpbmdsZSAoZS5nLiAxLDIzNC4zKQ0KCWlmIFN0cmluZy5MZW5ndGgoc1JpZ2h0U2lkZSkgPT0gMSB0aGVuDQoJblJpZ2h0U2lkZSA9IFN0cmluZy5Ub051bWJlcihzUmlnaHRTaWRlKSAqIDEwOw0KCXNSaWdodFNpZGUgPSAiIi4ublJpZ2h0U2lkZS4uIiI7DQoJZW5kDQplbHNlDQpzTGVmdFNpZGUgPSBzSW5pdGlhbE51bWVyaWNJbnB1dDsNCnNSaWdodFNpZGUgPSAiSUdOT1JFIjsNCmVuZA0KDQotLWdldCB0aGUgbnVtYmVyIHZhbHVlcyBvZiBvdXIgc3RyaW5nDQpuTGVmdFNpZGUgPSBTdHJpbmcuVG9OdW1iZXIoc0xlZnRTaWRlKTsNCg0KLS1jb3VudCB0aGUgbnVtYmVyIG9mIG51bWJlcnMgaW4gdGhlIGlucHV0DQpuVG90YWxMZWZ0TnVtYmVycyA9IFN0cmluZy5MZW5ndGgoc0xlZnRTaWRlKTsNCi0tY291bnQgdGhlIG51bWJlciBibG9ja3MgDQpuVG90YWxCbG9ja3MgPSBNYXRoLkNlaWwoblRvdGFsTGVmdE51bWJlcnMgLyAzKTsNCg0KLS1jcmVhdGUgdGhlIHRhYmxlIHRvIGhvbGQgdGhlIG51bWJlciBibG9ja3MNCnROdW1iZXJCbG9ja3MgPSB7fTsNCmZvciBuUGxhY2VIb2xkZXIgPSAxLCBuVG90YWxCbG9ja3MgZG8NCnROdW1iZXJCbG9ja3NbblBsYWNlSG9sZGVyXSA9ICIiOw0KZW5kDQoNCnNSZW1haW5pbmdCbG9ja3MgPSBzTGVmdFNpZGU7DQoNCmZvciB4ID0gMSwgblRvdGFsQmxvY2tzIGRvDQoJDQoJaWYgeCB+PSBuVG90YWxCbG9ja3MgdGhlbg0KCS0tZ2V0IHRoZSBibG9jayBmcm9tIHRoZSBtYWluIGlucHV0IHN0cmluZw0KCXNCbG9jayA9IFN0cmluZy5SaWdodChzUmVtYWluaW5nQmxvY2tzLCAzKTsNCgkNCglzUmVtYWluaW5nQmxvY2tzID0gU3RyaW5nLkxlZnQoc1JlbWFpbmluZ0Jsb2NrcywgU3RyaW5nLkxlbmd0aChzUmVtYWluaW5nQmxvY2tzKSAtIDMpOw0KCQkNCgktLXN0b3JlIGl0IGludG8gdGhlIGJsb2NrIHRhYmxlDQoJdE51bWJlckJsb2Nrc1tuVG90YWxCbG9ja3MgLSB4ICsgMV0gPSBzQmxvY2s7DQoNCgllbHNlaWYgeCA9PSBuVG90YWxCbG9ja3MgdGhlbg0KCQ0KCS0tc3RvcmUgdGhlIGxhc3QgYmxvY2sNCgl0TnVtYmVyQmxvY2tzW25Ub3RhbEJsb2NrcyAtIHggKyAxXSA9IHNSZW1haW5pbmdCbG9ja3M7DQoJDQoJZW5kDQoNCmVuZA0KDQpzT3V0cHV0ID0gIiI7DQoNCmZvciB4ID0gMSwgblRvdGFsQmxvY2tzIGRvDQoJaWYgeCB+PSBuVG90YWxCbG9ja3MgdGhlbg0KCXNCbG9ja1NwYWNlciA9ICIgIjsNCgliU3BhY2VyID0gdHJ1ZTsNCgliTGFzdE51bWJlckJsb2NrID0gZmFsc2U7DQoJCWlmIGJVc2VDb21tYXMgPT0gdHJ1ZSB0aGVuDQoJCWJEZWxpbWl0TWUgPSB0cnVlOw0KCQllbHNlDQoJCWJEZWxpbWl0TWUgPSBmYWxzZTsNCgkJZW5kDQoJZWxzZWlmIHggPT0gblRvdGFsQmxvY2tzIHRoZW4NCglzQmxvY2tTcGFjZXIgPSAiIjsNCgliU3BhY2VyID0gZmFsc2U7DQoJYkxhc3ROdW1iZXJCbG9jayA9IHRydWU7DQoJYkRlbGltaXRNZSA9IGZhbHNlOw0KCWVuZA0KDQp0UmV0dXJucyA9IFNvcnRUcmlhZCh0TnVtYmVyQmxvY2tzW3hdLCB0TnVtYmVyUGxhY2VzW25Ub3RhbEJsb2NrcyAtIHggKyAxXSwgYlNwYWNlciwgYkxhc3ROdW1iZXJCbG9jaywgYlVzZUNvbW1hcyk7DQpzV29yZHMgPSB0UmV0dXJuc1sxXTsNCg0KaWYgdFJldHVybnNbMl0gPT0gdHJ1ZSBhbmQgYkRlbGltaXRNZSA9PSB0cnVlIHRoZW4NCnNEZWxpbWluYXRvciA9ICIsIjsNCmVsc2VpZiB0UmV0dXJuc1syXSA9PSBmYWxzZSBvciBiRGVsaW1pdE1lID09IGZhbHNlIHRoZW4NCnNEZWxpbWluYXRvciA9ICIiOw0KZW5kDQoNCnNPdXRwdXQgPSBzT3V0cHV0Li5zV29yZHMuLnNEZWxpbWluYXRvci4uc0Jsb2NrU3BhY2VyOw0KDQplbmQNCg0KLS1hZGQgdGhlIGRvbGxhcnMgdGFnIGlmIHRoZSB1c2VyIGNob29zZXMNCmlmIGJJc01vbmV0YXJ5ID09IHRydWUgdGhlbg0KCQ0KCWJOb0RvbGxhcnMgPSBmYWxzZTsNCgkNCglpZiBzTGVmdFNpZGUgPT0gIjAiIG9yIHNMZWZ0U2lkZSA9PSAiIiB0aGVuDQoJYk5vRG9sbGFycyA9IHRydWU7DQoJZWxzZWlmIHNMZWZ0U2lkZSA9PSAiMSIgdGhlbg0KCXNPdXRwdXQgPSBzT3V0cHV0Li4iIERvbGxhciINCgllbHNlDQoJc091dHB1dCA9IHNPdXRwdXQuLiIgRG9sbGFycyINCgllbmQNCgkNCmVuZA0KDQoNCi0tcmlnaHQgc2lkZSBvZiB0aGUgZGVjaW1hbCBwbGFjZQ0KaWYgc1JpZ2h0U2lkZSB+PSAiSUdOT1JFIiB0aGVuDQoNCmxvY2FsIHRSaWdodE51bWJlcnMgPSB7fTsNCnRSaWdodE51bWJlcnNbMV0gPSAiT25lIjsNCnRSaWdodE51bWJlcnNbMl0gPSAiVHdvIjsNCnRSaWdodE51bWJlcnNbM10gPSAiVGhyZWUiOw0KdFJpZ2h0TnVtYmVyc1s0XSA9ICJGb3VyIjsNCnRSaWdodE51bWJlcnNbNV0gPSAiRml2ZSI7DQp0UmlnaHROdW1iZXJzWzZdID0gIlNpeCI7DQp0UmlnaHROdW1iZXJzWzddID0gIlNldmVuIjsNCnRSaWdodE51bWJlcnNbOF0gPSAiRWlnaHQiOw0KdFJpZ2h0TnVtYmVyc1s5XSA9ICJOaW5lIjsNCnRSaWdodE51bWJlcnNbMTBdID0gIlplcm8iOw0KDQpzRW5kU3RyaW5nID0gIiI7DQoNCm5SaWdodFNpZGUgPSBTdHJpbmcuVG9OdW1iZXIoc1JpZ2h0U2lkZSk7DQoNCm5Ub3RhbFJpZ2h0TnVtYmVycyA9IFN0cmluZy5MZW5ndGgoc1JpZ2h0U2lkZSk7DQoNCnNSZW1haW5pbmdOdW1iZXJzID0gc1JpZ2h0U2lkZTsgDQoNCglmb3IgeCA9IDEsIG5Ub3RhbFJpZ2h0TnVtYmVycyBkbw0KCQkNCgkJaWYgeCB+PSBuVG90YWxSaWdodE51bWJlcnMgdGhlbg0KCQlzRGVjaW1hbFNwYWNlciA9ICIgIjsNCgkJZWxzZWlmIHggPT0gblRvdGFsUmlnaHROdW1iZXJzIHRoZW4NCgkJc0RlY2ltYWxTcGFjZXIgPSAiIjsNCgkJZW5kDQoJDQoJLS1nZXQgdGhlIGZpcnN0IG51bWJlciBmcm9tIHRoZSByaWdodCBzaWRlIHN0cmluZw0KCXNFbmROdW1iZXIgPSBTdHJpbmcuTGVmdChzUmVtYWluaW5nTnVtYmVycywgMSk7DQoJLS1jb252ZXJ0IGl0IHRvIGEgbnVtYmVyDQoJbkVuZE51bWJlciA9IFN0cmluZy5Ub051bWJlcihzRW5kTnVtYmVyKTsNCgkNCgkJaWYgbkVuZE51bWJlciA9PSAwIHRoZW4NCgkJbkVuZE51bWJlciA9IDEwOw0KCQllbmQNCgkJDQoJc1JlbWFpbmluZ051bWJlcnMgPSBTdHJpbmcuUmlnaHQoc1JlbWFpbmluZ051bWJlcnMsIFN0cmluZy5MZW5ndGgoc1JlbWFpbmluZ051bWJlcnMpIC0gMSk7DQoJCQ0KCS0tY29uY2F0ZW5hdGUgdGhlIHN0cmluZ3MNCglzRW5kU3RyaW5nID0gc0VuZFN0cmluZy4udFJpZ2h0TnVtYmVyc1tuRW5kTnVtYmVyXS4uc0RlY2ltYWxTcGFjZXI7DQoJZW5kDQoNCglpZiBiSXNNb25ldGFyeSA9PSB0cnVlIHRoZW4NCgktLWlzb2xhdGUgZWFjaCBudW1iZXINCglzQ2hhbmdlVGVucyA9IFN0cmluZy5NaWQoc1JpZ2h0U2lkZSwgMSwgMSk7DQoJc0NoYW5nZU9uZXMgPSBTdHJpbmcuTWlkKHNSaWdodFNpZGUsIDIsIDEpOw0KCS0tY29udmVydCB0aGVuIHRvIG51bWJlciB2YWx1ZXMNCgluQ2hhbmdlVGVucyA9IFN0cmluZy5Ub051bWJlcihzQ2hhbmdlVGVucyk7DQoJbkNoYW5nZU9uZXMgPSBTdHJpbmcuVG9OdW1iZXIoc0NoYW5nZU9uZXMpOw0KCQ0KCXNDbG9zZVN0cmluZyA9ICIgQ2VudHMuIjsNCglpZiBiTm9Eb2xsYXJzID09IGZhbHNlIHRoZW4NCglzQW5kID0gIiBhbmQgIjsNCgllbHNlaWYgYk5vRG9sbGFycyA9PSB0cnVlIHRoZW4NCglzQW5kID0gIiI7DQoJZW5kDQoJDQoJCWlmIG5DaGFuZ2VUZW5zID09IDAgYW5kIG5DaGFuZ2VPbmVzID09IDAgdGhlbg0KCQlzRW5kU3RyaW5nID0gIiI7DQoJCXNDbG9zZVN0cmluZyA9ICIiOw0KCQlzQW5kID0gIiI7DQoJCWVsc2VpZiBuQ2hhbmdlVGVucyA9PSAwIGFuZCBuQ2hhbmdlT25lcyA9PSAxIHRoZW4NCgkJc0VuZFN0cmluZyA9IHRBRk9uZXNbbkNoYW5nZU9uZXNdOw0KCQlzQ2xvc2VTdHJpbmcgPSAiIENlbnQuIjsNCgkJZWxzZWlmIG5DaGFuZ2VUZW5zID09IDAgYW5kIG5DaGFuZ2VPbmVzIH49IDAgYW5kIG5DaGFuZ2VPbmVzIH49IDEgdGhlbg0KCQlzRW5kU3RyaW5nID0gdEFGT25lc1tuQ2hhbmdlT25lc107DQoJCWVsc2VpZiBuQ2hhbmdlVGVucyA9PSAxIGFuZCBuQ2hhbmdlT25lcyA9PSAwIHRoZW4NCgkJc0VuZFN0cmluZyA9IHRBRlRlZW5zWzEwXTsNCgkJZWxzZWlmIG5DaGFuZ2VUZW5zID09IDEgYW5kIG5DaGFuZ2VPbmVzIH49IDAgdGhlbg0KCQlzRW5kU3RyaW5nID0gdEFGVGVlbnNbbkNoYW5nZU9uZXNdOw0KCQllbHNlaWYgbkNoYW5nZVRlbnMgfj0gMCBhbmQgbkNoYW5nZVRlbnMgfj0gMSBhbmQgbkNoYW5nZU9uZXMgPT0gMCB0aGVuDQoJCXNFbmRTdHJpbmcgPSB0QUZUZW5zW25DaGFuZ2VUZW5zXTsNCgkJZWxzZWlmIG5DaGFuZ2VUZW5zIH49IDAgYW5kIG5DaGFuZ2VUZW5zIH49IDEgYW5kIG5DaGFuZ2VPbmVzIH49IDAgdGhlbg0KCQlzRW5kU3RyaW5nID0gdEFGVGVuc1tuQ2hhbmdlVGVuc10uLiIgIi4udEFGT25lc1tuQ2hhbmdlT25lc107DQoJCWVuZA0KCQkNCglzT3V0cHV0ID0gc091dHB1dC4uc0FuZC4uc0VuZFN0cmluZy4uc0Nsb3NlU3RyaW5nOw0KCQ0KCWVsc2UNCgkNCglzT3V0cHV0ID0gc091dHB1dC4uIiBQb2ludCAiLi5zRW5kU3RyaW5nOw0KCQ0KCWVuZA0KCQ0KZW5kDQoNCi0taWYgdGhlcmUgaXMgYSBkb3VibGUgc3BhY2UgdGhlbiBkZWxldGUgaXQuDQpzT3V0cHV0ID0gU3RyaW5nLlJlcGxhY2Uoc091dHB1dCwgIiAgIiwgIiAiLCBmYWxzZSk7DQoNCi0tdGhlcmUgaXMgZ3JlbWxpbiBpbiB0aGUgY29kZSB0aGF0IHB1dHMgYSBjb21tYSBhdCB0aGUgZW5kIG9mIHRoZSBvdXRwdXQgc3RyaW5nIHdoZW4gYSBzaW5nbGUgbnVtYmVyIGJsb2NrIGlzIHVzZWQuDQotLVNpbmNlIEkgaGF2ZSBzcGVudCBhIGZldyBob3VycyBhbmQgc3RpbGwgY2FuJ3QgdHJhY2sgZG93biB0aGUgYnVnLCBJIGhhdmUgYnVpbHQgdGhlIGZvbGxvd2luZyBncmVtbGluLWtpbGxpbmcgY29kZSBibG9jay4NCm5Gb3VuZCA9IFN0cmluZy5SZXZlcnNlRmluZChzT3V0cHV0LCAiLCIsIGZhbHNlKTsNCmlmIG5Gb3VuZCB+PSAtMSBhbmQgbkZvdW5kID49IChTdHJpbmcuTGVuZ3RoKHNPdXRwdXQpIC0gNSkgdGhlbg0Kc091dHB1dCA9IFN0cmluZy5MZWZ0KHNPdXRwdXQsIG5Gb3VuZCAtIDEpOw0KZW5kDQoNCnNPdXRwdXQgPSBzTmVnYXRpdmVTaWduLi5zT3V0cHV0Ow0KDQpyZXR1cm4gc091dHB1dA0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PSB8IGJ5IElSDQotLSBTdHJpbmcuVG9UYWJsZQkJCSAgfA0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0gfA0KZnVuY3Rpb24gU3RyaW5nLlRvVGFibGUoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMik7DQpsb2NhbCBEZWxpbWl0ZWRTdHJpbmcgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCmxvY2FsIERlbGltaXRlciA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywyLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQoNCglsb2NhbCB0YlJldHVybiA9IHt9Ow0KCWxvY2FsIHN0cldvcmtpbmc7DQoJbG9jYWwgblBvcyA9IG5pbDsNCglsb2NhbCBzdHJEYXRhOw0KCWxvY2FsIG5UYWJsZUluZGV4ID0gMTsNCglsb2NhbCBuRGVsaW1pdGVyTGVuZ3RoID0gU3RyaW5nLkxlbmd0aChEZWxpbWl0ZXIpOw0KCQ0KCWlmKG5EZWxpbWl0ZXJMZW5ndGggPCAxKXRoZW4NCgkJdGJSZXR1cm5bblRhYmxlSW5kZXhdID0gRGVsaW1pdGVkU3RyaW5nOw0KCQlyZXR1cm4gdGJSZXR1cm4NCgllbmQNCgkNCglzdHJXb3JraW5nID0gRGVsaW1pdGVkU3RyaW5nOw0KCW5Qb3MgPSBTdHJpbmcuRmluZChzdHJXb3JraW5nLERlbGltaXRlcik7DQoJd2hpbGUoblBvcyB+PSAtMSlkbw0KCQlzdHJEYXRhID0gU3RyaW5nLkxlZnQoc3RyV29ya2luZyxuUG9zLTEpOw0KCQl0YlJldHVybltuVGFibGVJbmRleF0gPSBzdHJEYXRhOw0KCQluVGFibGVJbmRleCA9IG5UYWJsZUluZGV4ICsgMTsNCgkJbG9jYWwgbkxlbmd0aCA9IFN0cmluZy5MZW5ndGgoc3RyV29ya2luZyk7DQoJCXN0cldvcmtpbmcgPSBTdHJpbmcuUmlnaHQoc3RyV29ya2luZyxuTGVuZ3RoIC0gKG5Qb3MgKyAobkRlbGltaXRlckxlbmd0aC0xKSkpOw0KCQluUG9zID0gU3RyaW5nLkZpbmQoc3RyV29ya2luZyxEZWxpbWl0ZXIpOw0KCWVuZA0KCQ0KCWlmKHN0cldvcmtpbmcgfj0gIiIpdGhlbg0KCQl0YlJldHVybltuVGFibGVJbmRleF0gPSBzdHJXb3JraW5nOw0KCWVuZA0KCQ0KCXJldHVybiB0YlJldHVybg0KCQ0KZW5kDQoNCg0KLS1bWw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIFN0cmluZy5GaW5kQWxsDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gU3RyaW5nLkZpbmRBbGwoc0lucHV0LCBzU2VhY2hTdHJpbmcsIG5TdGFydCwgYkNhc2VTZW5zaXRpdmUpDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZyw0KTsNCi0tbG9jYWwgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KbG9jYWwgdFJldCA9IHt9Ow0KbG9jYWwgbkxlbmd0aCA9IFN0cmluZy5MZW5ndGgoc1NlYWNoU3RyaW5nKTsNCg0KbG9jYWwgbkZvdW5kID0gMDsNCmxvY2FsIG5TdGFydFBvaW50ID0gblN0YXJ0Ow0KDQpyZXBlYXQNCm5Gb3VuZCA9IFN0cmluZy5GaW5kKHNJbnB1dCwgc1NlYWNoU3RyaW5nLCBuU3RhcnRQb2ludCwgYkNhc2VTZW5zaXRpdmUpOw0KCQ0KCWlmIG5Gb3VuZCB+PSAtMSB0aGVuDQoJbG9jYWwgbkluZGV4ID0gVGFibGUuQ291bnQodFJldCkgKyAxOw0KCWxvY2FsIG5MYXN0ID0gbkZvdW5kICsgbkxlbmd0aDsNCg0KCXRSZXRbbkluZGV4XSA9IHt9Ow0KCXRSZXRbbkluZGV4XS5TdGFydCA9IG5Gb3VuZDsNCgl0UmV0W25JbmRleF0uRW5kID0gbkxhc3QgLSAxOw0KCQ0KCW5TdGFydFBvaW50ID0gbkxhc3Q7DQoJZW5kDQoNCnVudGlsIG5Gb3VuZCA9PSAtMQ0KDQpyZXR1cm4gdFJldA0KZW5kDQpdXQ0KDQoNCg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIFN0cmluZy5Jc0JsYW5rDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gU3RyaW5nLklzQmxhbmsoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMik7DQpsb2NhbCBzSW5wdXQgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCmxvY2FsIGJSZW1vdmVTcGFjZXMgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMix7ImJvb2xlYW4ifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIGJSZXQgPSBmYWxzZTsNCg0KaWYgYlJlbW92ZVNwYWNlcyB0aGVuDQoJDQoJaWYgU3RyaW5nLlJlcGxhY2Uoc0lucHV0LCAiICIsICIgIiwgZmFsc2UpID09ICIiIHRoZW4NCgliUmV0ID0gdHJ1ZTsNCgllbmQNCg0KZWxzZQ0KCQ0KCWlmIHNJbnB1dCA9PSAiIiB0aGVuDQoJYlJldCA9IHRydWU7DQoJZW5kDQoNCmVuZA0KDQpyZXR1cm4gYlJldA0KZW5kDQoNCg0KLS1bWw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBTdHJpbmcuRnJvbVBIUFN0cmluZw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBTdHJpbmcuRnJvbVBIUFN0cmluZyhzSW5wdXQpDQpJUkxVQV9QTFVHSU5fQ2hlY2tOdW1BcmdzKGFyZywxKTsNCi0tbG9jYWwgPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KcmV0dXJuIFN0cmluZy5SZXBsYWNlKHNJbnB1dCwgIlxcXCIiLCAiXCIiLCBmYWxzZSk7DQplbmQNCg0KDQoNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBTdHJpbmcuRnJvbVhNTEF0dA0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIFN0cmluZy5Gcm9tWE1MQXR0KC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDIpOw0KbG9jYWwgc0lucHV0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpsb2NhbCBzQ29udHJvbCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywyLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCB0Q2hhcnMgPSB7IlxyXG4iLCJcXCIsIlwnIiwiXCIiLCI8IiwiPiIsIj0ifTsNCmxvY2FsIHNSZXQgPSBzSW5wdXQ7DQoNCmZvciBuSW5kZXgsIHNDaGFyIGluIHRDaGFycyBkbw0Kc1JldCA9IFN0cmluZy5SZXBsYWNlKHNSZXQsIHNDb250cm9sLi4iIi4ubkluZGV4Li4iIiwgdENoYXJzW25JbmRleF0sIGZhbHNlKTsNCmVuZA0KDQpyZXR1cm4gc1JldA0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tIFN0cmluZy5Ub1BIUFN0cmluZw0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpmdW5jdGlvbiBTdHJpbmcuVG9QSFBTdHJpbmcoc0lucHV0KQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQotLWxvY2FsID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCnJldHVybiBTdHJpbmcuUmVwbGFjZShzSW5wdXQsICJcIiIsICJcXFwiIiwgZmFsc2UpOw0KZW5kDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gU3RyaW5nLlRvWE1MQXR0DQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KZnVuY3Rpb24gU3RyaW5nLlRvWE1MQXR0KC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDIpOw0KbG9jYWwgc0lucHV0ID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQpsb2NhbCBzQ29udHJvbCA9IElSTFVBX1BMVUdJTl9DaGVja1R5cGVzKGFyZywyLHsic3RyaW5nIn0pOw0KLS08PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8DQpsb2NhbCB0Q2hhcnMgPSB7IlxyXG4iLCJcXCIsIlwnIiwiXCIiLCI8IiwiPiIsIj0ifTsNCmxvY2FsIHNSZXQgPSBzSW5wdXQ7DQoNCmZvciBuSW5kZXgsIHNDaGFyIGluIHRDaGFycyBkbw0Kc1JldCA9IFN0cmluZy5SZXBsYWNlKHNSZXQsIHRDaGFyc1tuSW5kZXhdLCBzQ29udHJvbC4uIiIuLm5JbmRleC4uIiIsIGZhbHNlKTsNCmVuZA0KDQpyZXR1cm4gc1JldA0KZW5kDQoNCl1dDQoNCg0KDQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0gV2luZG93LkNlbnRlcg0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIFdpbmRvdy5DZW50ZXIoLi4uKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQpsb2NhbCBoV25kID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJudW1iZXIifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNCmxvY2FsIHREaXNwbGF5ID0gU3lzdGVtLkdldERpc3BsYXlJbmZvKCk7DQpsb2NhbCB0V2luZG93U2l6ZSA9IFdpbmRvdy5HZXRTaXplKGhXbmQpOw0KV2luZG93LlNldFBvcyhoV25kLCAoKHREaXNwbGF5LldpZHRoIC0gdFdpbmRvd1NpemUuV2lkdGgpIC8gMiksICgodERpc3BsYXkuSGVpZ2h0IC0gdFdpbmRvd1NpemUuSGVpZ2h0KSAvIDIpKTsNCmVuZA0KDQoNCi0tW1sNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBYTUwuQ3JlYXRlRWxlbWVudA0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIFhNTC5DcmVhdGVFbGVtZW50KHNQYXRoLCBzRWxlbWVudCwgYkNEQVRBKQ0KSVJMVUFfUExVR0lOX0NoZWNrTnVtQXJncyhhcmcsMSk7DQotLWxvY2FsID0gSVJMVUFfUExVR0lOX0NoZWNrVHlwZXMoYXJnLDEseyJzdHJpbmcifSk7DQotLTw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwNClhNTC5TZXRWYWx1ZShzUGF0aC4uIi8iLi5zRWxlbWVudCwgIiIsIGJDREFUQSk7DQplbmQNCg0KXV0NCi0tW1sNCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLSBYTUwuU29ydEJ5RWxlbWVudA0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCmZ1bmN0aW9uIFhNTC5Tb3J0QnlFbGVtZW50KC4uLikNCklSTFVBX1BMVUdJTl9DaGVja051bUFyZ3MoYXJnLDEpOw0KbG9jYWwgc1BhdGggPSBJUkxVQV9QTFVHSU5fQ2hlY2tUeXBlcyhhcmcsMSx7InN0cmluZyJ9KTsNCi0tPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PA0KDQotLSsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKyt8fA0KZnVuY3Rpb24gU29ydCh2MSx2MikNCmlmIChTdHJpbmcuTG93ZXIodjEpIDwgU3RyaW5nLkxvd2VyKHYyKSl0aGVuDQogICAgcmV0dXJuIHRydWU7DQplbHNlDQogICAgcmV0dXJuIGZhbHNlOw0KZW5kDQplbmQNCi0tKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKip8fA0KDQpsb2NhbCBuRm91bmQgPSBTdHJpbmcuUmV2ZXJzZUZpbmQoc1BhdGgsICIvIiwgZmFsc2UpOw0KbG9jYWwgc1BhdGgxID0gU3RyaW5nLkxlZnQoc1BhdGgsIChuRm91bmQgLSAxKSk7DQpsb2NhbCBzUGF0aDIgPSBTdHJpbmcuUmlnaHQoc1BhdGgsIChTdHJpbmcuTGVuZ3RoKHNQYXRoKSAtIG5Gb3VuZCkpOw0KbG9jYWwgbkZvdW5kU2VwYXJhdG9yID0gU3RyaW5nLlJldmVyc2VGaW5kKHNQYXRoMSwgIi8iLCBmYWxzZSk7DQoNCmxvY2FsIHNDb3VudFBhdGgxID0gIiI7DQpsb2NhbCBzQ291bnRQYXRoMiA9ICIiOw0KaWYgbkZvdW5kU2VwYXJhdG9yID09IC0xIHRoZW4NCnNDb3VudFBhdGgxID0gc1BhdGgxOw0Kc0NvdW50UGF0aDIgPSBzUGF0aDI7DQplbHNlDQpzQ291bnRQYXRoMSA9IFN0cmluZy5MZWZ0KHNQYXRoMSwgKG5Gb3VuZFNlcGFyYXRvciAtIDEpKTsNCnNDb3VudFBhdGgyID0gU3RyaW5nLlJpZ2h0KHNQYXRoMSwgKFN0cmluZy5MZW5ndGgoc1BhdGgxKSAtIG5Gb3VuZFNlcGFyYXRvcikpOw0KZW5kDQoNCmxvY2FsIG5Ub3RhbCA9IFhNTC5Db3VudChzQ291bnRQYXRoMS4uIi8iLCBzQ291bnRQYXRoMik7DQoNCmlmIG5Ub3RhbCA9PSAwIG9yIG5Ub3RhbCA9PSAtMSB0aGVuDQpBcHBsaWNhdGlvbi5FeGl0U2NyaXB0KCk7DQplbmQNCg0KbG9jYWwgdEVsZW1lbnRzID0ge307DQoNCmZvciB4ID0gMSwgblRvdGFsIGRvDQpsb2NhbCBzRWxlbWVudCA9IFhNTC5HZXRWYWx1ZShzUGF0aDEuLiI6Ii4ueC4uIi8iLi5zUGF0aDIpOw0KdEVsZW1lbnRzW3hdID0gc0VsZW1lbnQ7DQplbmQNCg0KVGFibGUuU29ydCh0RWxlbWVudHMsIFNvcnQpOw0KDQpsb2NhbCB0SXRlbXMgPSB7fTsNCmZvciB4ID0gMSwgblRvdGFsIGRvDQp0SXRlbXNbeF0gPSAiIjsNCmVuZA0KDQpmb3IgbkluZGV4LCBzSXRlbSBpbiB0RWxlbWVudHMgZG8NCg0KCWZvciB4ID0gMSwgblRvdGFsIGRvDQoNCgkJaWYgWE1MLkdldFZhbHVlKHNQYXRoMS4uIjoiLi54Li4iLyIuLnNQYXRoMikgPT0gc0l0ZW0gdGhlbg0KCQl0SXRlbXNbbkluZGV4XSA9IFhNTC5HZXRFbGVtZW50WE1MKHNQYXRoMS4uIjoiLi54KTsNCgkJZW5kDQoJDQoJZW5kDQoNCmVuZA0KDQpmb3IgbkluZGV4LCBzWE1MQ29kZSBpbiBwYWlycyh0SXRlbXMpIGRvDQpYTUwuUmVtb3ZlRWxlbWVudChzUGF0aDEuLiI6Ii4uMSk7DQplbmQNCg0KZm9yIG5JbmRleCwgc1hNTENvZGUgaW4gcGFpcnModEl0ZW1zKSBkbw0KWE1MLkluc2VydFhNTChzUGF0aDEuLiI6Ii4ubkluZGV4LCBzWE1MQ29kZSwgWE1MLlJFUExBQ0UpOw0KZW5kDQoNCmVuZF1d</Source>
            <FoldLines />
            <BookMarks />
        </Script>
    </Scripts>
    <Modules />
    <Dependencies />
    <Resources />
    <Properties>
        <Property Name="PluginName">ABI</Property>
        <Property Name="HelpFileAuthoring">1</Property>
        <Property Name="PluginVersion">1.0.0.0</Property>
        <Property Name="AuthorInfo">ABI Plugin For AutoPlay Media Studio</Property>
    </Properties>
    <Intellisense />
</Project>
